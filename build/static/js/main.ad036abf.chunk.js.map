{"version":3,"sources":["pages/detail/utils.js","pages/detail/store/reducer.js","pages/detail/store/constants.js","pages/detail/store/actionCreators.js","pages/login/store/constants.js","pages/login/store/reducer.js","pages/login/store/actionCreators.js","statics/logo.png","common/header/store/reducer.js","common/header/store/actionCreators.js","pages/detail/components/articlebrowser/style.js","pages/detail/components/articlebrowser/graph/index.js","pages/detail/components/browserList/style.js","pages/detail/components/browserList/components/item/style.js","pages/detail/components/browserList/components/item/index.js","pages/detail/components/browserList/index.js","pages/detail/components/articlebrowser/index.js","pages/home/store/actionCreators.js","pages/home/store/constants.js","pages/home/store/reducer.js","common/header/components/searchBar/style.js","common/header/components/searchBar/index.js","common/header/components/detailToolBar/style.js","common/header/components/detailToolBar/index.js","common/header/components/writeToolBar/style.js","common/header/components/writeToolBar/index.js","common/header/style.js","common/header/index.js","pages/home/style.js","pages/home/components/List.js","pages/home/components/Recommend.js","pages/home/components/Writer.js","pages/home/index.js","pages/detail/loadable.js","common/loginpopup/style.js","common/loginpopup/index.js","pages/login/style.js","pages/login/index.js","pages/write/components/toolbar/style.js","pages/write/components/toolbar/index.js","pages/write/components/editor/index.js","pages/write/index.js","style.js","App.js","statics/iconfont/iconfont.js","index.js","pages/write/store/constants.js","pages/write/store/reducer.js","pages/write/store/actionCreators.js","client.js","constvars.js","store/reducer.js","store/index.js","common/header/store/constants.js"],"names":["TreeNode","constructor","name","uid","this","children","setChildren","bind","addChild","findNode","hasChildren","undefined","length","concat","child","push","console","log","queue","i","cur","Graph","node","id","toString","first","hashNodes","links","source","target","addLink","addNode","getLinks","getNodes","getNode","idx","nodes","key","defaultState","fromJS","title","content","authorName","publishTime","readNum","logoSvg","showToolBar","showArticleIndex","readList","topicTree","topicGraph","articleBrowserButtons","articleBrowserActiveButton","showBrowser","articlesToBrowser","articlesCurrentTopic","articlesCurrentTopicID","articlesToRecommend","articlesToBrowserPage","articlesToBrowserTotPage","articlesToBrowserKeyword","readHistory","currentHistory","showReadList","currentArticle","state","action","type","merge","data","current","addReadHistory","isFavor","changeDetailPageArticle","reset","topic","topicName","get","aid","changeDetail","full","changeFavor","set","show","activeButton","recommendList","browserList","getBrowserList","topicID","nextPage","totPage","keyword","resetStore","dispatch","getDetail","getState","client","then","res","handleResponse","catch","favorArticle","getContent","axios","result","err","switchToolBar","switchToolBarAction","switchReadList","toJS","detail","switchReadListAction","switchArticleIndex","switchArticleIndexAction","getReadList","lid","articles","getReadListAction","changeArticleIdx","getBrowserArticlesAction","changePageAction","changePageTotAction","changeBrowserListPage","isNext","url","urlkw","getArticle","searchBrowserList","resData","totalPagesNum","handleErr","onClickNode","nodeID","targetID","getTopicGraph","pres","preTopics","map","e","presToTreeNodes","forEach","n","Object","assign","patchTopicGraphAction","getPreNodes","recommendUrl","browserUrl","newTopic","recommendArticles","getRecommendArticlesAction","getNodeArticles","changeArticleBrowserActiveButton","changeArticleBrowserActiveButtonAction","changeDetailPageArticleAction","some","unshift","updateKeyword","kw","login","showPopup","isLoginPage","value","logout","showPopupActoin","accout","password","alert","register","username","email","closePopup","changePage","module","exports","focused","mouseIn","list","page","totalPage","topics","toolbar","constants","contentChange","changeList","contentChangeAction","searchFocus","searchBlur","mouseEnter","mouseLeave","changeToolBarAction","changeToolBar","getList","Math","ceil","getTopics","raw","changeTopic","MainWrapper","styled","div","HistoryItemWrapper","props","active","ButtonsWrapper","TitleWrapper","ButtonWrapper","GraphWrapper","BlankWrapper","HistoryWrapper","HistoryTitleWrapper","ListWrapper","ShowListButton","BrowserToolBar","PageNumWrapper","ToolBarButton","myConfig","nodeHighlightBehavior","color","size","highlightStrokeColor","labelProperty","link","highlightColor","directed","focusZoom","nodeId","store","actionCreators","graph","config","CurrentTopicWrapper","TabGroupWrapper","TabWrapper","ListAreaWrapper","RecommendListWrapper","BrowserListWrapper","ItemWrapper","ContentWrapper","ListItem","Component","super","render","handlieClickTitle","onClick","dangerouslySetInnerHTML","__html","connect","BrowserList","showRecommend","browserSearchKeyword","getRecommendList","handleClickTab","setState","browserTotPage","browserCurPage","browserKw","updateKw","search","browserItems","placeholder","onChange","currentTopic","className","getIn","next","ArticleBrowser","browserListState","onClickBrowserListShowButton","getReadHistory","componentDidMount","getButtons","buttons","curButton","handleChangeButton","b","handleClickHistory","g","setHomeListAction","changeTags","generateArticleListQueryApi","params","domainID","endpoint","getMoreList","home","tag","api","setHomeList","toggleTopShow","onChangeTag","setTopic","tags","setTag","setTagAction","domain","setTopics","changeKeyword","articleList","articlePage","showScroll","changeHomeData","addArticleList","SearchWrapper","NavSearch","input","attrs","DesktopMiniWidth","Search","handleInput","inputValue","initValue","event","handleSearch","ToolBarWrapper","TopNavBarHeight","ContentLength","ContentHorizontalPadding","Button","DetailPageToolBar","goBack","window","history","back","srl","showTopic","WriteToolBar","style","position","top","left","commitArticle","cursor","width","height","src","day","Date","setTime","getTime","time","getFullYear","getMonth","getDate","articleContent","articleInfo","split","authorID","publishDate","domains","getDomain","getDomains","toolBarHeight","HeaderLineWrapper","HeaderWrapper","NavWrapper","logoPic","NavItemShowButton","span","NonHomeItemWrapper","NavItem","navFontSize","LogoWrapper","Addition","a","TopicLineWrapper","TopicWrapper","TopicItem","Header","NavItemShow","ActiveNo","handleGetTopic","showItem","preValue","onChangeTopic","handleChangeTopic","newTopics","topicItems","item","handleShowLogin","handleShowRegister","Link","to","toolbarTypes","handleInputFocus","handleInputBlur","handleMouseEnter","handleMouseLeave","handleChangePage","spin","originAngle","transform","replace","parseInt","HomeContentCreator","loginActionCreators","HomeWrapper","HomeLeft","HomeRight","ListInfo","RecommendWrapper","RecommendItem","imgUrl","WriterWrapper","LoadMore","BackTop","TagWrapper","TagItem","List","PureComponent","index","Recommend","Writer","Home","handleScrollTop","scrollTo","getTags","handleSetTag","tagsItem","bindEvents","componentWillUnmount","removeEventListener","changeScrollTopShow","addEventListener","document","documentElement","scrollTop","headerActionCreator","TOPIC_TOOL_BAR","LoadableComponent","Loadable","loader","loading","PopupContainer","PopupToolBar","LoginBoxWrapper","RegisterBoxWrapper","LoginPopup","handleInputUserName","handleInputPassword","handleSwitchToLogin","handleSwitchToRegister","handleLogin","hadnleRegister","handleClosePopup","Password","LoginWrapper","LoginBox","Input","loginStatus","accountElem","passwordElem","Redirect","innerRef","account","LineWrapper","EditorWrapper","selectDomain","selectTopic","selectedDomain","getTopic","selectedTopic","setSelectedTopic","items","WebSiteEditor","handleChange","img","code","preview","expand","undo","redo","save","subfield","headerActionCreators","WRITE_TOOL_BAR","injectGlobal","MainContainer","ContentContainer","TopNavBarContainer","App","HashRouter","Route","path","exact","component","Login","Write","Detail","ReactDOM","getElementById","draft","changeDomain","setDomains","getFields","field","write","getStoreDomains","getDomainsAction","getTopicAction","post","location","reload","httpClient","getStoreTopics","changeTopicAction","updateDraft","updateDraftAction","create","baseURL","headers","transformRequest","qs","stringify","msg","cols","reducer","combineReducers","header","headerReducer","homeReducer","detailReducer","loginReducer","writeReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","SEARCH_FOCUS","SEARCH_BLUR","CHANGE_LIST","MOUSE_ENTER","MOUSE_LEAVE","CHANGE_PAGE","CHANGE_TOPICS","CHANGE_TOOL_BAR","CONTANT_CHANGE","ARTICLE_TOOL_BAR"],"mappings":"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","file":"static/js/main.ad036abf.chunk.js","sourcesContent":["export class TreeNode {\n    constructor(name, uid) {\n        this.name = name\n        this.uid = uid\n        this.children = []\n\n        this.setChildren = this.setChildren.bind(this)\n        this.addChild = this.addChild.bind(this)\n        this.findNode = this.findNode.bind(this)\n    }\n\n    hasChildren() {\n        return this.children === undefined || this.children.length == 0\n    }\n\n    setChildren(children) {\n        this.children = this.children.concat(children)\n    }\n\n    addChild(child) {\n        this.children.push(child)\n    }\n\n    findNode(uid) {\n        console.log(\"begin find\")\n        if (this.children === undefined || this.children.length == 0) {\n            console.log(this.children.length)\n            if (this.uid == uid) {\n                return this\n            } else {\n                return null\n            }\n        }\n\n        let queue = []\n        queue = queue.concat(this.children)\n\n        for (let i = 0; i < queue.length; i++) {\n            let cur = queue[i]\n            console.log('cur', cur)\n            if (cur.uid == uid) {\n                return cur\n            }\n\n            if (cur.children !== undefined && cur.children.length != 0) {\n                queue = queue.concat(cur.children)\n            }\n            console.log('queue', queue)\n        }\n\n        return null\n    }\n}\n\nexport function getTreeDepth(root) {\n    let depth = 0\n    let queue = {\n        A: [],\n        B: [],\n    }\n\n    let curQueue = \"A\"\n    queue[curQueue].push(root)\n\n    for (; queue[curQueue].length != 0;) {\n        depth++\n        let nextQueue = curQueue == \"A\" ? \"B\" : \"A\"\n\n        queue[curQueue].forEach(node => {\n            if (node.children !== undefined) {\n                queue[nextQueue] = queue[nextQueue].concat(node.children)\n            }\n        })\n\n        queue[curQueue] = []\n        curQueue = nextQueue\n    }\n\n    return depth\n\n}\n\nexport function getTreeWidth(root) {\n    if (root.children === undefined || root.children.length == 0) {\n        return 1\n    }\n\n    let childrenWidth = 0\n    root.children.forEach(node => {\n        childrenWidth += getTreeWidth(node)\n    })\n\n    return childrenWidth\n}\n\nexport class Graph {\n    constructor(node) {\n        node.id=node.id.toString()\n        this.first=true\n        this.hashNodes = {}\n        this.hashNodes[node.id]=node\n        this.links = [{source:node.id,target:node.id}]\n\n        this.addLink=this.addLink.bind(this)\n        this.addNode=this.addNode.bind(this)\n        this.getLinks=this.getLinks.bind(this)\n        this.getNodes=this.getNodes.bind(this)\n        this.getNode=this.getNode.bind(this)\n    }\n\n    getNode(idx){\n        return this.hashNodes[idx]\n    }\n\n    addLink(source, target) {\n        source=source.toString()\n        target=target.toString()\n        if(this.first){\n            this.links=[]\n            this.first=false\n        }\n\n        this.links.push({ source, target })\n    }\n\n    addNode(node) {\n        node.id=node.id.toString()\n        this.hashNodes[node.id] = node\n    }\n\n    getLinks() {\n        return this.links\n    }\n\n    getNodes() {\n        let hashNodes=this.hashNodes\n        let nodes=[]\n        for(let key in hashNodes){\n            nodes.push(hashNodes[key])\n        }\n\n        return nodes\n    }\n}","import { fromJS } from \"immutable\";\nimport * as constants from \"./constants\";\nimport { TreeNode, Graph } from \"../utils\"\n\nconst defaultState = fromJS({\n  title: \"\",\n  content: \"\",\n  authorName: \"\",\n  publishTime: \"\",\n  readNum: 0,\n  logoSvg: \"\",\n  showToolBar: false,\n  showArticleIndex: false,\n  readList: new TreeNode(\"empty\", 0),\n  topicTree: new TreeNode(\"cnn\", 8),\n  topicGraph: new Graph({ id: 0, name: \"empty\" }),\n\n  articleBrowserButtons: [\"获得前驱\", \"浏览文章\"],\n  articleBrowserActiveButton: 0,\n  showBrowser: true,\n  articlesToBrowser: [],\n  articlesCurrentTopic: \"\",\n  articlesCurrentTopicID: 0,\n  articlesToRecommend: [],\n  articlesToBrowserPage: 0,\n  articlesToBrowserTotPage: 0,\n  articlesToBrowserKeyword: \"\",\n  readHistory: [],\n  currentHistory: 0,\n\n\n  showReadList: false,\n  currentArticle: 0,\n});\n\nconst addReadHistory = (state, action) => {\n  return state.merge({\n    readHistory: action.data.readHistory,\n    currentHistory: action.data.current\n  })\n}\n\nconst changeDetail = (state, action) => {\n  console.log(action)\n  return state.merge({\n    currentArticle: action.data.idx,\n    content: action.data.content.content,\n    title: action.data.content.title,\n    authorName: action.data.content.authorName,\n    publishTime: action.data.content.publishTime,\n    readNum: action.data.content.readNum,\n    logoSvg: action.data.content.isFavor,\n    topicGraph: new Graph({ id: action.data.content.topic, name: action.data.content.topicName }),\n    readHistory:state.get(\"readHistory\").concat([\n      {\n        topic:action.data.content.topicName,\n        aid:action.data.content.id,\n        title:action.data.content.title\n      }\n    ])\n  });\n};\n\nconst changeFavor = (state, action) => {\n  var full = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTg0ODg3MTQwNDgxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjExNzAiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTQwLjcgMTc2LjAzbDg5LjY2IDE4MS42N2EzMi4wMjUgMzIuMDI1IDAgMCAwIDI0LjA5IDE3LjUxbDIwMC40OCAyOS4xM2MyNi4yNSAzLjgxIDM2LjczIDM2LjA3IDE3LjczIDU0LjU4TDcyNy41OSA2MDAuMzNhMzEuOTk2IDMxLjk5NiAwIDAgMC05LjIgMjguMzJsMzQuMjUgMTk5LjY3YzQuNDggMjYuMTQtMjIuOTUgNDYuMDgtNDYuNDMgMzMuNzNsLTE3OS4zMi05NC4yN2MtOS4zMi00LjktMjAuNDYtNC45LTI5Ljc4IDBsLTE3OS4zMiA5NC4yN2MtMjMuNDggMTIuMzQtNTAuOTEtNy41OS00Ni40My0zMy43M2wzNC4yNS0xOTkuNjdhMzEuOTk2IDMxLjk5NiAwIDAgMC05LjItMjguMzJMMTUxLjM0IDQ1OC45MmMtMTguOTktMTguNTEtOC41MS01MC43NyAxNy43My01NC41OGwyMDAuNDgtMjkuMTNhMzEuOTc4IDMxLjk3OCAwIDAgMCAyNC4wOS0xNy41MWw4OS42Ni0xODEuNjdjMTEuNzQtMjMuNzggNDUuNjYtMjMuNzggNTcuNCAweiIgZmlsbD0iI0YwODE0MCIgcC1pZD0iMTE3MSI+PC9wYXRoPjwvc3ZnPg==\";\n  var notFull = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTg0ODg3MTMxMjc5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQxMTciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyIDI5MS40Mmw0OS40OSAxMDAuMjhhMTA4Ljc2NyAxMDguNzY3IDAgMCAwIDgxLjkxIDU5LjVsMTEwLjY1IDE2LjA4LTgwLjA2IDc4LjA0Yy0yNS42NiAyNS0zNy4zNiA2MS4wMS0zMS4zIDk2LjMxbDE4LjkgMTEwLjIxLTk4Ljk2LTUyLjAzYy0xNS41NS04LjE4LTMzLjA2LTEyLjUtNTAuNjMtMTIuNXMtMzUuMDkgNC4zMi01MC42MyAxMi41bC05OC45NyA1Mi4wMyAxOC45LTExMC4yYzYuMDYtMzUuMzEtNS42NC03MS4zMS0zMS4yOS05Ni4zMWwtODAuMDctNzguMDVMMzgwLjYgNDUxLjJhMTA4Ljc1NyAxMDguNzU3IDAgMCAwIDgxLjkxLTU5LjUyTDUxMiAyOTEuNDJtMC0xMzMuMjNjLTExLjQxIDAtMjIuODIgNS45NS0yOC43IDE3Ljg0TDM5My42NSAzNTcuN2EzMi4wMDIgMzIuMDAyIDAgMCAxLTI0LjA5IDE3LjUxbC0yMDAuNDggMjkuMTNjLTI2LjI1IDMuODEtMzYuNzMgMzYuMDctMTcuNzQgNTQuNThMMjk2LjQgNjAwLjMzYTMyLjAwNSAzMi4wMDUgMCAwIDEgOS4yIDI4LjMybC0zNC4yNSAxOTkuNjdjLTMuNTUgMjAuNjggMTIuODkgMzcuNDggMzEuNTQgMzcuNDggNC45MiAwIDEwLTEuMTcgMTQuOS0zLjc1bDE3OS4zMi05NC4yN2M0LjY2LTIuNDUgOS43Ny0zLjY4IDE0Ljg5LTMuNjggNS4xMSAwIDEwLjIzIDEuMjMgMTQuODkgMy42OGwxNzkuMzIgOTQuMjdjNC45IDIuNTggOS45OCAzLjc1IDE0LjkgMy43NSAxOC42NCAwIDM1LjA4LTE2LjggMzEuNTMtMzcuNDhsLTM0LjI1LTE5OS42N2EzMS45OTYgMzEuOTk2IDAgMCAxIDkuMi0yOC4zMmwxNDUuMDctMTQxLjQxYzE4Ljk5LTE4LjUxIDguNTEtNTAuNzctMTcuNzMtNTQuNThsLTIwMC40OC0yOS4xM2EzMi4wMDIgMzIuMDAyIDAgMCAxLTI0LjA5LTE3LjUxTDU0MC43IDE3Ni4wM2MtNS44Ny0xMS44OS0xNy4yOC0xNy44NC0yOC43LTE3Ljg0eiIgZmlsbD0iI0YwODE0MCIgcC1pZD0iNDExOCI+PC9wYXRoPjwvc3ZnPg==\";\n  return state.merge({\n    logoSvg: state.get(\"logoSvg\") == full ? notFull : full\n  });\n};\nconst changeDetailPageArticle = (state, action) => {\n  return state.merge({\n    currentArticle: action.data.content.id,\n    content: action.data.content.content,\n    title: action.data.content.title,\n    authorName: action.data.content.authorName,\n    publishTime: action.data.content.publishTime,\n    readNum: action.data.content.readNum,\n    logoSvg: action.data.content.isFavor,\n  });\n}\n\nconst getBrowserList = (state, action) => {\n  return state.set(\"articlesToBrowser\", action.data.browserList)\n  //return state.merge({\n  //  articlesToBrowserTotPage: action.data.totPage,\n  //  articlesToBrowser: action.data.browserList,\n  //})\n}\n\nconst reset = (state) => {\n  return state.merge(defaultState)\n}\n\n\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case constants.ADD_READ_HISTORY:\n      return addReadHistory(state, action)\n    case constants.CHANGE_DETAIL_PAGE_ARTICLE_WITH_EXPLORER:\n      return changeDetailPageArticle(state, action)\n    case constants.RESET_STORE:\n      return reset(state)\n    case constants.CHANGE_DETAIL:\n      return changeDetail(state, action);\n    case constants.CHANGE_FAVOR:\n      return changeFavor(state, action);\n    case constants.SHOW_TOOL_BAR:\n      return state.set(\"showToolBar\", action.data.show)\n    case constants.SHOW_READ_LIST:\n      return state.set(\"showReadList\", action.data.show)\n    case constants.SHOW_ARTICLE_IDX:\n      return state.set(\"showArticleIndex\", action.data.show)\n    case constants.GET_READ_LIST:\n      return state.merge({\n        readList: fromJS(action.data.readList),\n      })\n    case constants.PATCH_TOPIC_TREE_NODE:\n      return state.set(\"topicTree\", action.data.topicTree)\n    case constants.PATCH_TOPIC_GRAPH:\n      return state.set(\"topicGraph\", action.data.topicGraph)\n    case constants.CHANGE_ARTICLE_BROWSER_ACTIVE_BUTTON:\n      return state.set(\"articleBrowserActiveButton\", action.data.activeButton)\n    case constants.GET_RECOMMEND_LIST:\n      return state.set(\"articlesToRecommend\", action.data.recommendList)\n    case constants.GET_BROWSER_LIST:\n      return getBrowserList(state, action)\n    case constants.CHANGE_CURRENT_TOPIC:\n      console.log(action)\n      return state.merge({\n        articlesCurrentTopic: action.data.topic,\n        articlesCurrentTopicID: action.data.topicID\n      })\n    case constants.CHANGE_PAGE_ACTION:\n      return state.set(\"articlesToBrowserPage\", action.data.nextPage)\n    case constants.CHANGE_PAGE_TOT_NUM:\n      return state.set(\"articlesToBrowserTotPage\", action.data.totPage)\n    case constants.UPDATE_KEY_WORD:\n      return state.set(\"articlesToBrowserKeyword\", action.data.keyword)\n    default:\n      return state;\n  }\n};","export const CHANGE_DETAIL = \"detail/CHANGE_DETAIL\";\nexport const SHOW_TOOL_BAR = \"detail/SHOW_TOOL_BAR\"\nexport const SHOW_READ_LIST = \"detail/SHOW_READ_LIST\"\nexport const SHOW_ARTICLE_IDX = \"detail/SHOW_ARTICLE_IDX\"\nexport const GET_READ_LIST = \"detail/GET_READ_LIST\"\nexport const RESET_STORE = \"detail/RESET_STORE\"\nexport const PATCH_TOPIC_TREE_NODE = \"detail/PATCH_TOPIC_TREE_NODE\"\nexport const PATCH_TOPIC_GRAPH = \"detail/PATCH_TOPIC_GRAPH\"\nexport const CHANGE_ARTICLE_BROWSER_ACTIVE_BUTTON = \"detail/CHANGE_ARTICLE_BROWSER_ACTIVE_BUTTON\"\nexport const CHANGE_FAVOR = \"detail/CHANGE_FAVOR\"\nexport const GET_RECOMMEND_LIST = \"detail/GET_RECOMMEND_LIST\"\nexport const GET_BROWSER_LIST = \"detail/GET_BROWSER_LIST\"\nexport const CHANGE_CURRENT_TOPIC = \"detail/CHANGE_CURRENT_TOPIC\"\nexport const CHANGE_DETAIL_PAGE_ARTICLE_WITH_EXPLORER = \"detail/CHANGE_DETAIL_PAGE_ARTICLE_WITH_EXPLORER\"\nexport const ADD_READ_HISTORY = \"detail/ADD_READ_HISTORY\"\nexport const CHANGE_PAGE_ACTION = \"detail/CHANGE_PAGE_ACTION\"\nexport const CHANGE_PAGE_TOT_NUM = \"detail/CHANGE_PAGE_TOT_NUM\"\nexport const UPDATE_KEY_WORD=\"detail/UPDATE_KEY_WORD\"\n","import axios from \"axios\";\nimport * as constants from \"./constants\";\nimport { toJS } from \"immutable\";\nimport { client, handleResponse, handleErr } from \"../../../client\"\nimport { TreeNode } from \"../utils\";\n\nconst changeDetail = (data) => ({\n  type: constants.CHANGE_DETAIL,\n  data: data\n});\n\nconst changeFavor = (data) => ({\n  type: constants.CHANGE_FAVOR,\n  data:data\n});\n\nconst switchToolBarAction = (data) => ({\n  type: constants.SHOW_TOOL_BAR,\n  data: data\n})\n\nconst switchArticleIndexAction = (data) => ({\n  type: constants.SHOW_ARTICLE_IDX,\n  data: data\n})\n\nconst switchReadListAction = (data) => ({\n  type: constants.SHOW_READ_LIST,\n  data: data\n})\n\nconst getReadListAction = (data) => ({\n  type: constants.GET_READ_LIST,\n  data: data\n})\n\nconst resetStoreAction = () => ({\n  type: constants.RESET_STORE,\n})\n\nexport const resetStore = () => {\n  return (dispatch) => {\n    dispatch(resetStoreAction())\n  }\n}\n\nexport const getDetail = id => {\n  return (dispatch, getState) => {\n    //the logic here is just for demo \n    //if backend presendted, url+id is enough\n    client\n      .get(\"/article?aid=\"+id+\"&userID=2\")\n      .then(res => {\n        let content = handleResponse(res)\n        console.log(res)\n        let data = {}\n        data.content = content\n        data.idx = 0\n        dispatch(changeDetail(data));\n      })\n      .catch(() => { });\n  };\n};\n\nexport const favorArticle = (id) => {\n  return (dispatch, getState) => {\n      client.get(\"/favorArticle?userID=2\" + \"&articleID=\" + id).then(function (res) {\n      dispatch(changeFavor(data));\n      var content = handleResponse(res);\n      var data = {};\n      data.content = content;\n      data.idx = 0;\n    }).catch(function () {});\n  };\n};\n\nexport const getContent = (aid, idx, dispatch) => {\n  axios\n    .get(\"/api/articles/\"+aid+\"&userID=2\")\n    .then(res => {\n      let result = handleResponse(res)\n      console.log(res.content)\n      let data = {}\n      data.content = result.content\n      data.idx = idx\n      dispatch(changeDetail(data))\n    })\n    .catch(err => {\n      console.log(err)\n    })\n}\n\nexport const switchToolBar = (show) => {\n  return (dispatch) => {\n    let data = {}\n    data.show = show\n    dispatch(switchToolBarAction(data))\n  }\n}\n\nexport const switchReadList = () => {\n  return (dispatch, getState) => {\n    let data = {}\n    const {\n      showReadList\n    } = getState().toJS().detail\n    data.show = !showReadList\n    console.log(data)\n    dispatch(switchReadListAction(data))\n  }\n}\n\nexport const switchArticleIndex = () => {\n  return (dispatch, getState) => {\n    let data = {}\n    const {\n      showArticleIndex\n    } = getState().toJS().detail\n    data.show = !showArticleIndex\n    dispatch(switchArticleIndexAction(data))\n  }\n}\n\nexport const getReadList = (lid) => {\n  return (dispatch) => {\n    axios\n      .get(\"/api/readList.json\")\n      .then(res => {\n        let readList = res.data.data.articles\n        let data = {}\n        data.readList = readList\n        getContent(readList[0].aid, 0, dispatch)\n        dispatch(getReadListAction(data))\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n}\n\nexport const changeArticleIdx = (idx) => {\n  return (dispatch, getState) => {\n    const {\n      readList\n    } = getState().toJS().detail\n    let aid = readList[idx].aid\n    getContent(aid, idx, dispatch)\n  }\n}\n\nconst getTopicTree = (getState) => {\n  const {\n    topicTree\n  } = getState().toJS().detail\n\n  return topicTree\n}\n\nconst getTopicGraph = (getState) => {\n  const {\n    topicGraph\n  } = getState().toJS().detail\n\n  return topicGraph\n}\n\nconst presToTreeNodes = (pres) => {\n  return pres.preTopics.map(e => ({ id: e.id, name: e.topic }))\n}\n\nconst patchTopicTreeAction = (data) => ({\n  type: constants.PATCH_TOPIC_TREE_NODE,\n  data\n})\n\nconst patchTopicGraphAction = (data) => ({\n  type: constants.PATCH_TOPIC_GRAPH,\n  data\n})\n\n\nconst getPreNodes = (dispatch, getState, targetID) => {\n  let topicGraph = getTopicGraph(getState)\n  console.log(\"topicGraph\", topicGraph)\n  let url = \"/getPreTopics?topicID=\" + targetID\n  console.log(url)\n  client\n    .get(url)\n    .then(res => {\n      let pres = handleResponse(res)\n      console.log(\"pres\", pres)\n      let nodes = presToTreeNodes(pres)\n      nodes.forEach(n => {\n        topicGraph.addLink(targetID, n.id)\n        topicGraph.addNode(n)\n      })\n\n      let data = {}\n      data.topicGraph = Object.assign({}, topicGraph)\n      console.log(\"data\", data)\n      dispatch(patchTopicGraphAction(data))\n    })\n    .catch(err => {\n      handleErr(err)\n    })\n}\n\nconst getRecommendArticlesAction = (data) => ({\n  type: constants.GET_RECOMMEND_LIST,\n  data\n})\n\nconst getBrowserArticlesAction = (data) => ({\n  type: constants.GET_BROWSER_LIST,\n  data\n})\n\nconst changePageAction = (data) => ({\n  type: constants.CHANGE_PAGE_ACTION,\n  data\n})\n\nconst changePageTotAction = (data) => ({\n  type: constants.CHANGE_PAGE_TOT_NUM,\n  data\n})\n\nexport const changeBrowserListPage = (isNext) => {\n  return (dispatch, getState) => {\n    let {\n      articlesToBrowserPage,\n      articlesToBrowserTotPage,\n      articlesToBrowserKeyword,\n      articlesCurrentTopicID\n    } = getState().toJS().detail\n    let nextPage = articlesToBrowserPage\n    if (isNext) {\n      if (articlesToBrowserPage + 1 >= articlesToBrowserTotPage) {\n        return\n      }\n      nextPage++\n    } else {\n      if (articlesToBrowserPage <= 0) {\n        return\n      }\n      nextPage--\n    }\n    let url = `/articleList?size=3&page=${nextPage}&topicID=${articlesCurrentTopicID}`\n    let urlkw = articlesToBrowserKeyword == \"\" ? \"&kw\" : `&kw=${articlesToBrowserKeyword}`\n    console.log(url + urlkw)\n    console.log(getState().toJS().detail)\n    dispatch(changePageAction({ nextPage: nextPage }))\n    getArticle(dispatch, url + urlkw)\n  }\n}\n\nexport const searchBrowserList = () => {\n  return (dispatch, getState) => {\n    let {\n      articlesToBrowserKeyword,\n      articlesCurrentTopicID\n    } = getState().toJS().detail\n\n    let url = `/articleList?size=3&page=${0}&topicID=${articlesCurrentTopicID}`\n    let urlkw = articlesToBrowserKeyword == \"\" ? \"&kw\" : `&kw=${articlesToBrowserKeyword}`\n    dispatch(changePageAction({ nextPage: 0 }))\n    console.log(url+urlkw)\n    getArticle(dispatch, url + urlkw)\n  }\n}\n\nconst getArticle = (dispatch, url) => {\n  client\n    .get(url)\n    .then(res => {\n      let resData = handleResponse(res)\n      console.log(resData)\n      dispatch(getBrowserArticlesAction({ browserList: resData.articles }))\n      dispatch(changePageTotAction({ totPage: resData.totalPagesNum }))\n    })\n    .catch(err => {\n      handleErr(err)\n    })\n}\n\nconst changeCurrentTopic = (data) => ({\n  type: constants.CHANGE_CURRENT_TOPIC,\n  data: data\n})\n\nconst getNodeArticles = (dispatch, getState, targetID) => {\n  const {\n    articlesToBrowserPage,\n    topicGraph\n  } = getState().toJS().detail\n\n  let recommendUrl = \"/getPreTopics?topicID=\" + targetID\n  let browserUrl = `/articleList?page=${articlesToBrowserPage}&size=3&kw&topicID=${targetID}`\n\n  let newTopic = topicGraph.getNode(targetID)\n  console.log(newTopic)\n  dispatch(changeCurrentTopic({ topic: newTopic.name, topicID: newTopic.id }))\n  dispatch(changePageAction({ nextPage: 0 }))\n\n  client\n    .get(recommendUrl)\n    .then(res => {\n      let resData = handleResponse(res)\n      let data = {}\n      data.recommendList = resData.recommendArticles\n      dispatch(getRecommendArticlesAction(data))\n    })\n    .catch(err => {\n      handleErr(err)\n    })\n\n  client\n    .get(browserUrl)\n    .then(res => {\n      let resData = handleResponse(res)\n      dispatch(getBrowserArticlesAction({ browserList: resData.articles }))\n      dispatch(changePageTotAction({ totPage: resData.totalPagesNum }))\n    })\n    .catch(err => {\n      handleErr(err)\n    })\n}\n\n\nexport const onClickNode = (nodeID) => {\n  return (dispatch, getState) => {\n    let curTask = getState().toJS().detail.articleBrowserActiveButton\n    switch (curTask) {\n      case 0:\n        getPreNodes(dispatch, getState, nodeID)\n        return\n      case 1:\n        getNodeArticles(dispatch, getState, nodeID)\n        return\n      default:\n        return\n    }\n  }\n}\n\nconst changeArticleBrowserActiveButtonAction = (data) => ({\n  type: constants.CHANGE_ARTICLE_BROWSER_ACTIVE_BUTTON,\n  data\n})\n\nexport const changeArticleBrowserActiveButton = (idx) => {\n  return (dispatch) => {\n    let data = {}\n    data.activeButton = idx\n    dispatch(changeArticleBrowserActiveButtonAction(data))\n  }\n}\n\nconst changeDetailPageArticleAction = (data) => ({\n  type: constants.CHANGE_DETAIL_PAGE_ARTICLE_WITH_EXPLORER,\n  data\n})\n\nconst addReadHistory = (data) => ({\n  type: constants.ADD_READ_HISTORY,\n  data\n})\n\nexport const changeDetailPageArticle = (aid) => {\n  return (dispatch, getState) => {\n    const {\n      articlesCurrentTopic,\n      readHistory\n    } = getState().toJS().detail\n\n    let url = '/article?aid=' + aid\n    client\n      .get(url)\n      .then(res => {\n        let resData = handleResponse(res)\n        let data = {}\n        data.content = resData\n        data.idx = 0\n        dispatch(changeDetailPageArticleAction(data));\n\n\n        let targetID = -1\n        let has = readHistory.some((e, idx) => {\n          if (e.aid == resData.id) {\n            targetID = idx\n            return true\n          }\n          return false\n        })\n\n        if (!has) {\n          readHistory.unshift({ topic: articlesCurrentTopic, aid: resData.id, title: resData.title })\n          targetID = 0\n        }\n        dispatch(addReadHistory({ readHistory: readHistory, current: targetID }))\n      })\n      .catch(err => {\n        handleErr(err)\n      })\n  }\n}\n\nconst updateKeywordAction = (data) => ({\n  type: constants.UPDATE_KEY_WORD,\n  data\n})\n\nexport const updateKeyword = (kw) => {\n  return (dispatch) => {\n    dispatch(updateKeywordAction({ keyword: kw }))\n  }\n}","export const CHANGE_LOGIN = \"login/CHANGE_LOGIN\";\nexport const LOGOUT = \"login/LOGOUT\";\nexport const SHOW_POPUP = \"login/SHOW_POPUP\"\nexport const CHANGE_POPUP_PAGE=\"login/CHANGE_POPUP_PAGE\"\n","import { fromJS } from \"immutable\";\nimport * as constants from \"./constants\";\n\nconst defaultState = fromJS({\n  login: true,\n  showPopup: false,\n  isLoginPage: true,\n});\n\nconst showPopup=(state,action)=>{\n  if (!action.data.showPopup){\n    return state.set(\"showPopup\",false)\n  }\n\n  return state.merge({\n    showPopup:action.data.showPopup,\n    isLoginPage:action.data.isLoginPage\n  })\n}\n\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case constants.CHANGE_LOGIN:\n      return state.set(\"login\", action.value);\n    case constants.LOGOUT:\n      return state.set(\"login\", action.value);\n    case constants.SHOW_POPUP:\n      return showPopup(state,action)\n    case constants.CHANGE_POPUP_PAGE:\n      return state.set(\"isLoginPage\",action.data.isLoginPage)\n    default:\n      return state;\n  }\n};\n","import axios from \"axios\";\nimport * as constants from \"./constants\";\n\nconst changeLogin = () => ({\n  type: constants.CHANGE_LOGIN,\n  value: true\n});\n\n\nexport const logout = () => ({\n  type: constants.LOGOUT,\n  value: false\n});\n\nexport const showPopupActoin = (data) => ({\n  type: constants.SHOW_POPUP,\n  data: data\n})\n\nexport const changePageAction = (data) => ({\n  type: constants.CHANGE_POPUP_PAGE,\n  data: data\n})\n\n\n\nexport const login = (accout, password) => {\n  return dispatch => {\n    axios\n      .get(\"/api/login.json?account=\" + accout + \"&password=\" + password)\n      .then(res => {\n        const result = res.data.data;\n        console.log(result)\n        if (result) {\n          let data = {}\n          data.showPopup = false\n          dispatch(showPopupActoin(data))\n          dispatch(changeLogin());\n        } else {\n          alert(\"登陆失败\");\n        }\n      });\n  };\n};\n\nexport const register = (username, email, password) => {\n  return dispatch => {\n    let data = {}\n    data.showPopup = false\n    dispatch(showPopupActoin(data))\n  }\n}\n\nexport const showPopup = (isLoginPage) => {\n  return dispatch => {\n    let data = {}\n    data.showPopup = true\n    data.isLoginPage = isLoginPage\n\n    dispatch(showPopupActoin(data))\n  }\n}\n\nexport const closePopup = () => {\n  return dispatch => {\n    let data = {}\n    data.showPopup = false\n    dispatch(showPopupActoin(data))\n  }\n}\n\nexport const changePage = (isLoginPage) => {\n  return dispatch => {\n    let data = {}\n    data.isLoginPage = isLoginPage\n    dispatch(changePageAction(data))\n  }\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABwCAMAAABsH8+0AAAAq1BMVEUAAAD4aVb1bGLrb1rrb1rrb1rqcFrnaFLtb1zscFrsbFfobFjqcFrqb1nqb1nqb1rqcVnrblrrcFvsb1jqcVrrb1rrcFvrb1rqcFbqb1rqb1rqb1rrb1nrb1nsb1rrb1rsb1rrb1rrb1rrb1rsb1rsbVvsblrrb1roblnrbFjrb1rrb1rrb1rqb1vpblrrb1rrb1rrcFrrb1rscFv1dF7wclzyc13ucFv6d2AADBwFAAAAMnRSTlMAAwf8g+K1ChZpEg9S0TvdSFmUGyHyr+8k+Oqg2q01ymzm1pd2VY7DMClMfLtkQz6oianZqG4AAASuSURBVHja7drbcqowFIDhFVBR8IyISBXxUBVP7QqBvv+T7QS0W9Ha2g6tzuS7alNnzG8kWBAkSZIkSZIkSZIkSZIkSZIkSZJytAgRsT+FjF2N8fGCAV9UL1LEsAJ/RllFiOi4kDG1KWL0Yv4kxNiMRqNpB36F7sWI1G8qRwgAGYi+qEUy47etSNuhNJ4b8AvIliEP6b8+//caAARPfJzaL+0jky25MUTzEJG9KpA/fR6jEP/HnBUoA4YCPRa2bg2BoC9K6pA7ZRNiVuxXYOPHeCaq3xwCaxWRegbkjFQpcpZtOcg5tiWsF51xJIY5NRm3Eo0yHCGndknIiGRskyWpEMiV0kzm39hUW10+c3UdVLmgZ7qh2ABWs1lrLPYutzUTTjuGzWPbaV88st3M0OfipSgakCe9ZSUdWwAI+NSZpwFH6mteRe0WcK88NSrplw6ut/BYhAILT72NKuI54g3kaOFG4o31FADX82OkffF8WsUWk/LTI3vbEO+YOpwxXIafC0flInJjBfKjitfdmS9BKA/EbwMAGNYYHx43IWF4jE9npUGWtgrpibNdLg2BF1UsyRDyg0ix2B12ej1TzCtyHKcrFspj1HJ7sNflw2yiw5nF+OlYURUd/vhdX01CyMZCbgL5oaq/bgZFrlQGUncnk+dmEmKNC/Cu5XJDAhfoR4xgv/2SPVjZacjCotwa8jN+qYq3TkRj1VUgoRiGUX9pL4jxLvmLJn648bPW1KYiRCGlOdeC/HSAI83ko0gV9ErhYLoqXLAl3wuBX6KteQl6hsm302veXrX7DiFBsiQVzQ3xmqhw5yGgixng3JhGLL6MPkaI9hohxv1qzy11LytZdx+iGVwQqarqV66s2RO98xAidqrVaNJut1dl+FCnce8hypP4tLcGQVv2znWUn4ZUCPwCpUYR1RJwZLcunXN7l0NIOUsPfDHvqXlQLoiQaGqWBcjIMaT1xs5E9vByiPY8OWinngcWRYw992DiOcgH5ukDNMjIMwQ59o4m1yQ+CDH8MMpgKMTsXZwOREKYWZLcQ5zG097YV6+FeAxvQXXIyDckru2WB1OffhyiVByWkZ426fnwX4QwT4eDWTH+OASMoJqxSv5nn1SzPPVPQkw4aF0NOTdMtt8NZL2od70iX7+IPfiLkLixqc5S1XafPm4IOsVGMdXoq/jAIUjjA4qPHEJZdMAeOYTapcGB5zzwMRLXhubByH/gXevkPPLI2y/zOichsf+wIWU4mFoU2Xjx45B1EmJARs4htaWhJ8xWLU5u6v40JL0Y7yhwUZ4nxL3kEjRrkW+HLHfcdjNPFmRNICPnEDy5KfDmluHbIc9Fn7NRoFvIyDvkPxpH6rMJ3w8pWJRDIcz1/nQ2ZBaqx6zaZKdBqvedkJHNqMAidWVAVn4hoJjlE7pGYK/pi5CRclOI3vZqwqCw1CArz5DLCFGURXLAvu1uvK2gGalL/b8dsq3ZnKVicoq5428HXQ9J74vuRVty7yGOCx8xvfeQigZfCIln8BeSELtrwofaDgpOd0jg0xDszzcG/AmyWBqEXHtAZ8F1FAKf0kyFEJAkSZIkSZIkSZIkSZIkSZIk6UH8AxkhdeQ6zGoXAAAAAElFTkSuQmCC\"","import * as constants from \"./constants\";\nimport {fromJS} from \"immutable\";\n\n\n\nconst defaultState = fromJS({\n    focused: false,\n    mouseIn: false,\n    list: [],\n    page: 1,\n    totalPage: 1,\n    topics: [],\n    toolbar:\"\"\n});\n\nconst changeList = (state, action) => {\n    return state.merge({\n        list: action.data,\n        totalPage: action.totalPage\n    });\n};\n\nconst contentChange = (state, action) => {\n    return state.set(\"content\", action.data);    \n}\n\nexport default (state = defaultState, action) => {\n    switch (action.type) {\n        case constants.SEARCH_FOCUS:\n            return state.set(\"focused\", true);\n        case constants.CONTANT_CHANGE:\n            return contentChange(state, action)\n        case constants.SEARCH_BLUR:\n            return state.set(\"focused\", false);\n        case constants.CHANGE_LIST:\n            return changeList(state, action);\n        case constants.MOUSE_ENTER:\n            return state.set(\"mouseIn\", true);\n        case constants.MOUSE_LEAVE:\n            return state.set(\"mouseIn\", false);\n        case constants.CHANGE_PAGE:\n            return state.set(\"page\", action.page);\n        case constants.CHANGE_TOPICS:\n            return state.set(\"topics\",action.data)\n        case constants.CHANGE_TOOL_BAR:\n            return state.set(\"toolbar\",action.data.toolbar)\n        default:\n            return state;\n    }\n};\n","import * as constants from \"./constants\";\nimport { fromJS } from \"immutable\";\nimport axios from \"axios\";\n\nconst changeList = data => ({\n    type: constants.CHANGE_LIST,\n    data: fromJS(data),\n    totalPage: Math.ceil(data.length / 10)\n});\n\nconst changeTopic = data => ({\n    type: constants.CHANGE_TOPICS,\n    data: fromJS(data)\n})\n\nconst contentChangeAction = (data) => ({\n    type:constants.CONTANT_CHANGE,\n    data:data\n})\n\nexport const contentChange = (data) =>{\n    return(dispatch, getState) => {\n        dispatch(contentChangeAction(data))\n        return\n    }\n}\n\nexport const searchFocus = () => ({\n    type: constants.SEARCH_FOCUS\n});\n\nexport const searchBlur = () => ({\n    type: constants.SEARCH_BLUR\n});\n\nexport const mouseEnter = () => ({\n    type: constants.MOUSE_ENTER\n});\n\nexport const mouseLeave = () => ({\n    type: constants.MOUSE_LEAVE\n});\n\nexport const changePage = page => ({\n    type: constants.CHANGE_PAGE,\n    page\n});\n\nexport const changeToolBarAction = (data)=>({\n    type:constants.CHANGE_TOOL_BAR,\n    data\n})\n\nexport const changeToolBar = toolbar => {\n    return dispatch =>{\n        let data={}\n        data.toolbar=toolbar\n        dispatch(changeToolBarAction(data))\n    }\n}\n\n\nexport const getList = () => {\n    return dispatch => {\n        axios\n            .get(\"/api/headerList.json\")\n            .then(res => {\n                const data = res.data;\n                dispatch(changeList(data.data));\n            })\n            .catch(() => {\n                console.log(\"error\");\n            });\n    };\n};\n\nexport const getTopics = () => {\n    return dispatch => {\n        axios\n            .get(\"/api/topics.json\")\n            .then(res => {\n                const raw = res.data.data;\n                let data = raw\n                dispatch(changeTopic(data))\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n}\n\n","import styled from \"styled-components\";\n\nexport const MainWrapper = styled.div`\n    height:300px;\n    width:100%;\n    display:flex;\n`\n\nexport const HistoryItemWrapper = styled.div`\n    background-color:${props => props.active ? \"black\" : \"white\"};\n    cursor:pointer;\n    color:${props => props.active ? \"white\" : \"black\"};\n    padding:1px 5px 1px 5px;\n    margin-right:5px;\n    text-align:center;\n    border-style:solid;\n    border-radius:0.5rem;\n    border-color:black;\n    border-width:0.5px;\n`\n\nexport const ButtonsWrapper = styled.div`\n    padding:5px;\n    background-color:white;\n    border-top-left-radius:0.5rem;\n    border-bottom-left-radius:0.5rem;\n`\n\nexport const CenterBlock = styled.div`\n    display:flex;\n    align-items:center;\n`\n\nexport const TitleWrapper = styled.div`\n    text-align:center;\n    font-size:1rem;\n    margin-bottom:10px;\n    border-bottom-style:solid;\n    border-bottom-width:1px;\n    border-bottom-color:grey;\n`\n\nexport const ButtonWrapper = styled.div`\n    min-width:75px;\n    text-align:center;\n    padding:5px;\n    margin-bottom:10px;\n    font-size:.90rem;\n    color:${props => props.active ? \"white\" : \"dodgerblue\"};\n    background-color:${props => props.active ? \"dodgerblue\" : \"white\"};\n    border-radius:0.5rem;\n    cursor: pointer;\n\n`\n\nexport const GraphWrapper = styled.div`\n    display:flex;\n    flex:1;\n    flex-direction:row;\n    align-items:center;\n    min-width:0;\n    min-height:0;\n    overflow:auto;\n    background-color:white;\n`\n\nexport const BlankWrapper = styled.div`\n    background-color:white;\n    color:black;\n    width:100%;\n    height:100px;\n    font-size:50px;\n    text-align:center\n`\n\n\nexport const HistoryWrapper = styled.div`\n    display:flex;\n    margin-top:5px;\n    flex-wrap:wrap;\n    margin-bottom:10px;\n`\n\nexport const HistoryTitleWrapper = styled.div`\n    min-width:85.5px;\n    text-align:center;\n    font-size:.90rem;\n    color:grey;\n`\n\nexport const ListWrapper = styled.div`\n    display:${props => props.show ? \"block\" : \"none\"};\n`\n\nexport const ShowListButton = styled.div`\n    display:block;\n    text-align:center;\n    padding:5px;\n    font-size:.90rem;\n    color :dodgerblue;\n    background-color:white;\n    cursor: pointer;\n`\n\nexport const BrowserToolBar = styled.div`\n    display:flex;\n    align-items:center;\n    margin-top:15px;\n`\n\nexport const PageNumWrapper = styled.div`\n    font-size:0.7rem;\n    color:black;\n    background-color:white;\n    border-radius:0.5rem;\n    border-style:solid;\n    border-color:grey;\n    border-width:0.5px;\n    min-width:40px;\n    margin-right:5px;\n    text-align:center;\n`\n\nexport const ToolBarButton = styled.div`\n    font-size:0.7rem;\n    color:dodgerblue;\n    cursor: pointer;\n    background-color:white;\n    min-width:40px;\n    text-align:left;\n`\n","import { Graph } from \"react-d3-graph\";\nimport React from \"react\"\nimport { actionCreators } from '../../../store'\nimport store from \"../../../../../store/index\"\n\n// graph payload (with minimalist structure)\nconst data = {\n    nodes: [{ id: \"Harry\", name: \"1\" }, { id: \"Sally\", name: \"2\" }, { id: \"Alice\", name: \"3\" }],\n    links: [{source:\"Harry\",target:\"Harry\"}],\n    focusedNodeId:\"Harry\"\n};\n\n// the graph configuration, you only need to pass down properties\n// that you want to override, otherwise default ones will be used\nconst labelProperty = (node) => {\n    return node.name\n}\n\nconst myConfig = {\n    nodeHighlightBehavior: true,\n    node: {\n        color: \"lightgreen\",\n        size: 400,\n        highlightStrokeColor: \"blue\",\n        labelProperty: labelProperty\n    },\n    link: {\n        highlightColor: \"lightblue\",\n    },\n    directed: true,\n    focusZoom: 1,\n};\n\nconst onClickGraph = function () {\n    window.alert(`Clicked the graph background`);\n};\n\nconst onClickNode = function (nodeId) {\n    store.dispatch(actionCreators.onClickNode(nodeId))\n};\n\nconst onDoubleClickNode = function (nodeId) {\n    window.alert(`Double clicked node ${nodeId}`);\n};\n\nconst onRightClickNode = function (event, nodeId) {\n    window.alert(`Right clicked node ${nodeId}`);\n};\n\nconst onMouseOverNode = function (nodeId) {\n    window.alert(`Mouse over node ${nodeId}`);\n};\n\nconst onMouseOutNode = function (nodeId) {\n    window.alert(`Mouse out node ${nodeId}`);\n};\n\nconst onClickLink = function (source, target) {\n    window.alert(`Clicked link between ${source} and ${target}`);\n};\n\nconst onRightClickLink = function (event, source, target) {\n    window.alert(`Right clicked link between ${source} and ${target}`);\n};\n\nconst onMouseOverLink = function (source, target) {\n    window.alert(`Mouse over in link between ${source} and ${target}`);\n};\n\nconst onMouseOutLink = function (source, target) {\n    window.alert(`Mouse out link between ${source} and ${target}`);\n};\n\nconst onNodePositionChange = function (nodeId, x, y) {\n    window.alert(`Node ${nodeId} is moved to new position. New position is x= ${x} y= ${y}`);\n};\n\n\nexport default ({graph}) => {\n    return (\n        <Graph\n            id=\"graph-id\" // id is mandatory, if no id is defined rd3g will throw an error\n            data={graph}\n            config={myConfig}\n            onClickNode={onClickNode}\n        />\n    )\n}","import styled from \"styled-components\";\n\nexport const CurrentTopicWrapper = styled.div`\n  text-align:left;\n  color:black;\n  background-color:white;\n  font-size:1rem;\n  padding-left:5px;\n  ::before{\n    content:\"当前主题:\"\n  }\n\n    border-bottom-style:solid;\n\n`\n\nexport const TabGroupWrapper = styled.div`\n  padding-top:10px;\n  display:flex;\n  align-items:center;\n  background-color:white;\n`\nexport const TabWrapper = styled.div`\n  color:${props => props.active ? \"white\" : \"dodgerblue\"};\n  background-color:${props => props.active ? \"dodgerblue\" : \"white\"};\n  text-align:center;\n  margin-left:5px;\n  padding:5px 5px 5px 5px;\n  .first{\n    border-top-left-radius: 14rem;\n  }\n  .last{\n    border-top-right-radius: 14rem;\n  }\n  border-bottom-style:solid;\n  border-bottom-width:0.5px;\n`\n\nexport const ListAreaWrapper = styled.div`\n  max-height:450px;\n  overflow-y:auto;\n  background-color:white;\n`\n\nexport const RecommendListWrapper = styled.div`\n  display:${props=>props.show?\"block\":\"none\"};\n\n`\n\nexport const BrowserListWrapper = styled.div`\n  display:${props=>props.show?\"block\":\"none\"};\n\n`\n\n","import styled from \"styled-components\";\n\nexport const ItemWrapper = styled.div`\n    padding:15px;\n`\n\nexport const TitleWrapper = styled.div`\n    width: 98%;\n    cursor:pointer;\n    line-height: 27px;\n    font-size: 18px;\n    font-weight: bold;\n    max-width: 98%;\n    text-overflow:ellipsis;\n    color: #333;\n`\n\nexport const ContentWrapper = styled.div`\n    width: 98%;\n    line-height: 24px;\n    font-size: 13px;\n    color: #999;\n    text-overflow:ellipsis;\n    overflow:hidden;\n    height:50px;\n`","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { ItemWrapper, TitleWrapper, ContentWrapper } from \"./style\"\nimport { actionCreators } from \"../../../../store\"\n\nclass ListItem extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n        const {\n            title,\n            content,\n            id,\n            handlieClickTitle\n        } = this.props\n        return (\n            <ItemWrapper>\n                <TitleWrapper\n                    onClick={() => { handlieClickTitle(id) }}\n                    dangerouslySetInnerHTML={{ __html: title }}\n                />\n                <ContentWrapper\n                    dangerouslySetInnerHTML={{ __html: content }}\n                />\n            </ItemWrapper>\n        )\n    }\n}\n\nconst mapState = state => ({\n\n})\n\nconst mapDispatch = dispatch => ({\n    handlieClickTitle(id) {\n        console.log(id)\n        dispatch(actionCreators.changeDetailPageArticle(id))\n    }\n})\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(ListItem)","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { TabGroupWrapper, TabWrapper, ListAreaWrapper, CurrentTopicWrapper, RecommendListWrapper, BrowserListWrapper } from \"./style\"\nimport ListItem from \"./components/item\"\nimport { BlankWrapper, BrowserToolBar, PageNumWrapper, ToolBarButton } from \"../articlebrowser/style\"\nimport { Button, Input } from \"antd\"\nimport { actionCreators } from \"../../store\"\n\nclass BrowserList extends Component {\n    constructor(props) {\n        super(props)\n        this.state = { showRecommend: true, browserSearchKeyword: \"\" }\n        this.getRecommendList = this.getRecommendList.bind(this)\n        this.getBrowserList = this.getBrowserList.bind(this)\n        this.handleClickTab = this.handleClickTab.bind(this)\n    }\n\n    handleClickTab(show) {\n        this.setState({ showRecommend: show })\n    }\n\n    getRecommendList() {\n        const {\n            recommendList\n        } = this.props\n\n        if (recommendList !== undefined && recommendList.length !== undefined && recommendList.length != 0) {\n            return recommendList.map((e, idx) => {\n                return (\n                    <ListItem id={e.id} content={e.content} title={e.title} key={idx}></ListItem>\n                )\n            })\n        } else {\n            return (\n                <BlankWrapper>无推荐内容</BlankWrapper>\n            )\n        }\n    }\n\n    getBrowserList() {\n        const {\n            browserList,\n            browserTotPage,\n            browserCurPage,\n            browserKw,\n            changePage,\n            updateKw,\n            search\n        } = this.props\n\n        let browserItems = [(<BlankWrapper>内容为空</BlankWrapper>)]\n        if (browserList.length !== undefined && browserList.length != 0) {\n            browserItems = browserList.map((e, idx) => {\n                return (\n                    <ListItem id={e.id} content={e.content} title={e.title} key={idx}></ListItem>\n                )\n            })\n        }\n        return (\n            <div>\n                <BrowserToolBar>\n                    <Input\n                        placeholder={\"请输入关键字\"}\n                        value={browserKw}\n                        onChange={(e) => { updateKw(e.target.value) }}\n                    ></Input>\n                    <ToolBarButton\n                        onClick={() => { search() }}\n                    >搜索</ToolBarButton>\n                    <Button onClick={() => { changePage(false) }}>上一页</Button>\n                    <PageNumWrapper>\n                        {(browserCurPage + 1) + \"/\" + (browserTotPage)}\n                    </PageNumWrapper>\n                    <Button onClick={() => { changePage(true) }}>下一页</Button>\n                </BrowserToolBar>\n                <div>\n                    {\n                        browserItems\n                    }\n                </div>\n            </div>)\n\n    }\n\n    render() {\n        const {\n            currentTopic\n        } = this.props\n\n        const {\n            showRecommend\n        } = this.state\n\n        return (\n            <div>\n                <CurrentTopicWrapper>{\" \" + currentTopic}</CurrentTopicWrapper>\n                <TabGroupWrapper>\n                    <TabWrapper active={showRecommend} className=\"first\" onClick={() => { this.handleClickTab(true) }}>推荐文章</TabWrapper>\n                    <TabWrapper active={!showRecommend} className=\"last\" onClick={() => { this.handleClickTab(false) }}>浏览文章</TabWrapper>\n                </TabGroupWrapper>\n                <ListAreaWrapper>\n                    <RecommendListWrapper show={showRecommend}>\n                        {\n                            this.getRecommendList()\n                        }\n                    </RecommendListWrapper>\n                    <BrowserListWrapper show={!showRecommend}>\n                        {\n                            this.getBrowserList()\n                        }\n                    </BrowserListWrapper>\n                </ListAreaWrapper>\n            </div>\n        )\n    }\n}\n\nconst mapState = state => ({\n    recommendList: state.getIn([\"detail\", \"articlesToRecommend\"]),\n    browserList: state.getIn([\"detail\", \"articlesToBrowser\"]),\n    currentTopic: state.getIn(['detail', \"articlesCurrentTopic\"]),\n    browserTotPage: state.getIn(['detail', \"articlesToBrowserTotPage\"]),\n    browserCurPage: state.getIn(['detail', \"articlesToBrowserPage\"]),\n    browserKw: state.getIn(['detail', \"articlesToBrowserKeyword\"]),\n})\n\nconst mapDispatch = dispatch => ({\n    changePage(next) {\n        dispatch(actionCreators.changeBrowserListPage(next))\n    },\n    updateKw(kw) {\n        dispatch(actionCreators.updateKeyword(kw))\n    },\n    search() {\n        dispatch(actionCreators.searchBrowserList())\n    }\n})\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(BrowserList)","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { MainWrapper, ButtonsWrapper, GraphWrapper, HistoryWrapper, ButtonWrapper, TitleWrapper, ListWrapper, ShowListButton, HistoryItemWrapper, HistoryTitleWrapper } from \"./style\"\nimport Graph from './graph'\nimport { actionCreators } from \"../../store\"\nimport List from \"../browserList\"\n\nclass ArticleBrowser extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            browserListState: false\n        }\n\n        this.onClickBrowserListShowButton = this.onClickBrowserListShowButton.bind(this)\n        this.getReadHistory = this.getReadHistory.bind(this)\n    }\n    componentDidMount() {\n    }\n\n    onClickBrowserListShowButton() {\n        const {\n            browserListState\n        } = this.state\n\n        this.setState({ browserListState: !browserListState })\n    }\n\n    getButtons() {\n        const {\n            buttons,\n            curButton,\n            handleChangeButton\n        } = this.props\n\n        return buttons.map((b, idx) => {\n            return (\n                <ButtonWrapper\n                    active={idx == curButton}\n                    key={idx}\n                    onClick={() => { handleChangeButton(idx) }}\n                >{b}\n                </ButtonWrapper>\n            )\n        })\n    }\n\n    getReadHistory() {\n        const {\n            readHistory,\n            currentHistory,\n            handleClickHistory\n        } = this.props\n\n        let obj = readHistory.toJS()\n\n        return obj.map((e, idx) => {\n            return (\n                <HistoryItemWrapper key={e.aid} active={currentHistory == idx}\n                    onClick={() => { handleClickHistory(e.aid) }}>\n                    {e.topic + ':' + e.title}\n                </HistoryItemWrapper>\n            )\n        })\n    }\n\n\n    render() {\n        const {\n            topicGraph,\n        } = this.props\n\n        const {\n            browserListState\n        } = this.state\n        let g = {}\n        console.log(topicGraph)\n        g.nodes = topicGraph.getNodes()\n        g.links = topicGraph.getLinks()\n\n        return (\n            <div>\n                <MainWrapper>\n                    <ButtonsWrapper>\n                        <TitleWrapper>工具栏</TitleWrapper>\n                        {\n                            this.getButtons()\n                        }\n                    </ButtonsWrapper>\n                    <GraphWrapper>\n                        <div>\n                            <Graph graph={g}></Graph>\n                        </div>\n                    </GraphWrapper>\n                </MainWrapper>\n\n                <ShowListButton\n                    onClick={this.onClickBrowserListShowButton}\n                >\n                    {browserListState ? \"关闭文章列表\" : \"展开文章列表\"}\n                </ShowListButton>\n                <ListWrapper show={browserListState}>\n                    <List />\n                </ListWrapper>\n                <HistoryWrapper>\n                    <HistoryTitleWrapper>历史记录:</HistoryTitleWrapper>\n                    {\n                        this.getReadHistory()\n                    }\n                </HistoryWrapper>\n            </div>\n        )\n    }\n}\n\nconst mapState = state => ({\n    topicGraph: state.getIn([\"detail\", \"topicGraph\"]),\n    buttons: state.getIn([\"detail\", \"articleBrowserButtons\"]),\n    curButton: state.getIn([\"detail\", \"articleBrowserActiveButton\"]),\n    readHistory: state.getIn([\"detail\", \"readHistory\"]),\n    currentHistory: state.getIn([\"detail\", \"currentHistory\"])\n})\n\nconst mapDispatch = dispatch => ({\n    handleChangeButton(idx) {\n        dispatch(actionCreators.changeArticleBrowserActiveButton(idx))\n    },\n    handleClickHistory(id) {\n        dispatch(actionCreators.changeDetailPageArticle(id))\n    }\n})\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(ArticleBrowser)\n\n\n","import axios from \"axios\";\nimport * as constants from \"./constants\";\nimport { fromJS } from \"immutable\";\nimport {client,handleResponse,handleErr} from \"../../../client\"\n\nconst changeKeyWordAction = data =>({\n  type: constants.CHANGE_KEY_WORD,\n  data: data\n})\n\nconst setHomeListAction = data => ({\n  type: constants.SET_HOME_LIST,\n  data: data\n});\n\nconst setTopics = data =>({\n  type:constants.CHANGE_TOPICS,\n  data:data\n})\n\nconst addHomeList = (list, nextPage) => ({\n  type: constants.ADD_ARTICLE_LIST,\n  list: fromJS(list),\n  nextPage\n});\n\nconst changeTags = (data) => ({\n    type: constants.CHANGE_TAGS,\n    data: data,\n})\n\nconst setTagAction =(data) => ({\n  type:constants.SET_TAG,\n  data:data,\n})\n\nfunction generateArticleListQueryApi(params){\n  let kw=params.kw===undefined?\"\":params.kw\n  let domainID=params.domainID===undefined?null:params.domainID\n  let topicID=params.topicID===undefined?null:params.topicID\n  let page=params.page===undefined?0:params.page\n\n  let endpoint=`/articleList?size=4&page=${page}&${kw==\"\"?\"kw\":\"kw=\"+kw}`\n  if(domainID==null && topicID==null){\n    return endpoint\n  }\n  if(domainID!=null){\n    return endpoint+`&domainID=${domainID}`\n  }\n  return endpoint+`&topicID=${topicID}`\n}\n\nexport const getMoreList = page => {\n  return (dispatch,getState) => {\n    const {tag,topic,keyword} = getState().toJS().home\n    let api=\"\"\n    if(tag===undefined || tag.id==null){\n      api=generateArticleListQueryApi({page:page,domainID:topic.id,kw:keyword})\n    }else{\n      api=generateArticleListQueryApi({page:page,topicID:tag.id,kw:keyword})\n    }\n    console.log(api)\n    client.get(api).then(res => {\n      const result = handleResponse(res);\n      console.log(result)\n      dispatch(addHomeList(result.articles, page + 1));\n    })\n    .catch(err=>{\n      console.log(err)\n    });\n  };\n};\n\nexport const setHomeList =()=>{\n  return (dispatch,getState) =>{\n    const {tag,topic,keyword}=getState().toJS().home\n    let api=generateArticleListQueryApi({domainID:topic.id,topicID:tag.id,kw:keyword})\n    client.get(api)\n    .then(res => {\n      const result=handleResponse(res)\n      let data={}\n      data.list=result.articles\n      dispatch(setHomeListAction(data))\n    })\n    .catch(err=>{\n      console.log(err)\n    })\n  }\n}\n\nexport const toggleTopShow = show => ({\n  type: constants.TOGGLE_SCROLL_TOP,\n  show\n});\n\nconst onChangeTag=(dispatch,topic,tag,keyword)=>{\n  if(tag==undefined){\n    tag={id:null}\n  }\n  console.log(topic)\n  let api=generateArticleListQueryApi({domainID:topic.id,topicID:tag.id,kw:keyword})\n  console.log(api)\n  client.get(api)\n  .then(res=>{\n      const result=handleResponse(res)\n      console.log(res)\n      let data={}\n      data.list=result.articles\n      dispatch(setHomeListAction(data))\n\n  })\n  .catch(err=>{\n      console.log(err)\n  })\n\n}\n\n\nexport const setTopic= (idx) => {\n  return (dispatch,getState) => {\n    \n   const {topics,keyword} = getState().toJS().home\n   console.log(keyword)\n   const topic=topics[idx]\n   client \n        .get(\"/topics?domain=\"+topic.id)\n        .then(res => {\n          let tags=handleResponse(res)\n          tags.unshift({id:null,topic:\"全部\"})\n          let data={\n            tags:tags,\n            topic:topic\n          }\n          dispatch(changeTags(data))\n          onChangeTag(dispatch,topic,tags[0],keyword)\n        })\n        .catch((err)=>{\n          let tags=[]\n          if (idx!=0){\n            tags=[]\n          }\n\n          let data={\n            topic:topic,\n            tags:tags\n          }\n          dispatch(changeTags(data))\n          onChangeTag(dispatch,topic,{id:null},keyword)\n          console.log(err)\n        })\n  }\n}\n\nexport const setTag = (idx) => {\n  return (dispatch,getState) => {\n    const {tags,keyword,topic} = getState().toJS().home\n    console.log(keyword)\n    let data={}\n    data.tag=tags[idx]\n    dispatch(setTagAction(data))\n    if(tags[idx].id==null){\n      onChangeTag(dispatch,topic,tags[idx],keyword)\n    }else{\n      onChangeTag(dispatch,{id:null},tags[idx],keyword)\n    }\n  }\n}\n\nexport const getTopics = () => {\n    return dispatch => {\n       client \n            .get(\"/domains\")\n            .then(res => {\n                const raw = handleResponse(res)\n                let topics=[{domain:\"全部\"}].concat(raw)\n                let data={\n                  topics:topics\n                }\n                dispatch(setTopics(data))\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n}\n\nexport const changeKeyword=(keyword)=>{\n  return (dispatch,getState) =>{\n    console.log('hit')\n    console.log(keyword)\n    dispatch(changeKeyWordAction({keyword}))\n    const {tag,topic}=getState().toJS().home\n    let api=generateArticleListQueryApi({domainID:topic.id,topicID:tag.id,kw:keyword})\n    console.log(api)\n    client.get(api)\n    .then(res => {\n      const result=handleResponse(res)\n      let data={}\n      data.list=result.articles\n      dispatch(setHomeListAction(data))\n    })\n    .catch(err=>{\n      console.log(err)\n    })\n  }\n}","export const CHANGE_HOME_DATA = \"home/CHANGE_HOME_DATA\";\nexport const ADD_ARTICLE_LIST = \"home/ADD_ARTICLE_LIST\";\nexport const TOGGLE_SCROLL_TOP = \"home/TOGGLE_SCROLL_TOP\";\nexport const CHANGE_TAGS = \"home/CHANGE_TAGS\";\nexport const CHANGE_TOPICS = \"home/CHANGE_TOPIC\";\nexport const SET_TAG=\"home/SET_TAG\"\nexport const SET_HOME_LIST=\"home/SET_LIST\"\nexport const CHANGE_KEY_WORD=\"home/CHANGE_KEY_WORD\"","import { fromJS } from \"immutable\";\nimport * as constants from \"./constants\";\nimport { setTopic } from \"./actionCreators\";\n\nconst defaultState = fromJS({\n  articleList: [],\n  recommendList: [],\n  articlePage: 1,\n  showScroll: false,\n  tags:[],\n  topics:[],\n  tag:{id:null,name:\"全部\"},\n  topic:{id:null,name:\"全部\"},\n  keyword:\"\"\n});\n\nconst changeHomeData = (state, action) => {\n  return state.merge({\n    articleList: fromJS(action.articleList),\n  });\n};\n\nconst addArticleList = (state, action) => {\n  return state.merge({\n    articleList: state.get(\"articleList\").concat(action.list),\n    articlePage: action.nextPage\n  });\n};\n\nconst changeTopic = (state,action) =>{\n  let tag={}\n  if (action.data.tags.length==0){\n    tag={id:null}\n  }else{\n    tag=action.data.tags[0]\n  }\n  return state.merge({\n    tags:fromJS(action.data.tags),\n    topic:fromJS(action.data.topic),\n    tag:fromJS(tag)\n  })\n}\n\nconst setTopics = (state,action) => {\n  let topic={};\n  if (action.data.topics.length==0){\n    topic=undefined\n  }else{\n    topic=action.data.topics[0]\n  }\n  return state.merge({\n    topics:fromJS(action.data.topics),\n    topic:fromJS(topic)\n  })\n}\n\nconst setHomeList =(state, action) => {\n  return state.merge({\n    articleList: action.data.list,\n    articlePage: 1\n  });\n};\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case constants.CHANGE_HOME_DATA:\n      return changeHomeData(state, action);\n    case constants.ADD_ARTICLE_LIST:\n      return addArticleList(state, action);\n    case constants.TOGGLE_SCROLL_TOP:\n      return state.set(\"showScroll\", action.show);\n    case constants.CHANGE_TAGS:\n      return changeTopic(state,action)\n    case constants.CHANGE_TOPICS:\n      return setTopics(state,action)\n    case constants.SET_TAG:\n      return state.set(\"tag\",fromJS(action.data.tag))\n    case constants.SET_HOME_LIST:\n      return setHomeList(state,action)\n    case constants.CHANGE_KEY_WORD:\n      return state.set(\"keyword\",action.data.keyword)\n    default:\n      return state;\n  }\n};\n","import styled from \"styled-components\";\nimport { ContentHorizontalPadding,ContentLength,DesktopMiniWidth,TopNavBarHeight } from \"../../../../constvars\"\n\n\nexport const SearchWrapper = styled.div`\n  position: relative;\n  z-index: 3;\n  top:0;\n  cursor: pointer;\n  .zoom {\n    position: absolute;\n    right: 5px;\n    bottom: 5px;\n    width: 30px;\n    line-height: 30px;\n    border-radius: 15px;\n    text-align: center;\n    &.focused {\n      background: #777;\n      color: #fff;\n    }\n  }\n`;\n\nexport const NavSearch = styled.input.attrs({\n    placeholder: \"搜索\"\n})`\n  padding: 0 30px 0 20px;\n  height: 38px;\n  @media (min-width:${DesktopMiniWidth}px) {\n    margin-left: 20px;\n    width: 200px;\n  }\n\n  @media (max-width:${DesktopMiniWidth}px) {\n    width: 160;\n    margin: 0px;\n    margin-left:2px;\n    padding: 0px;\n  }\n  box-sizing: border-box;\n  border: none;\n  outline: none;\n  border-radius: 19px;\n  background: #eee;\n  font-size: 14px;\n  color: #666;\n  &::placeholder {\n    color: #999;\n  }\n  &.focused {\n    width: 240px;\n  }\n  &.slide-enter {\n    transition: all 0.2s ease-out;\n  }\n  &.slide-enter-active {\n    width: 240px;\n  }\n  &.slide-exit {\n    transition: all 0.2s ease-out;\n  }\n  &.slide-exit-active {\n    width: 160px;\n  }\n`;","import React,{Component} from \"react\"\nimport { connect } from \"react-redux\";\nimport {SearchWrapper,NavSearch} from \"./style\"\nimport {actionCreators} from \"../../../../pages/home/store\"\n\nclass Search extends Component{\n    constructor(props){\n        super(props)\n        this.handleInput = this.handleInput.bind(this);\n        this.search=this.search.bind(this)\n        this.state={inputValue:''}\n    }\n\n    componentDidMount(){\n        let initValue=this.props.keyword\n        this.setState({inputValue:initValue})\n    }\n\n\n    handleInput(event) {\n        //this.setState({value: event.target.value});\n        this.setState({inputValue:event.target.value})\n    }\n\n    search(){\n        const {\n            handleSearch\n        } = this.props\n\n        const {\n            inputValue\n        } = this.state\n        handleSearch(inputValue)\n    }\n\n    render(){\n        return(\n            <SearchWrapper>\n                <NavSearch value={this.state.inputValue} onChange={(e)=>this.handleInput(e)}/>\n                <i onClick={this.search} className=\"focused iconfont zoom\" >\n                    &#xe614;\n                </i>\n            </SearchWrapper>\n        )\n    }\n}\n\n\nconst mapState = state => ({\n    keyword: state.getIn([\"home\",\"keyword\"])\n})\n\nconst mapDispatch = dispatch =>({\n    handleSearch(keyword){\n        dispatch(actionCreators.changeKeyword(keyword))\n    }\n})\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(Search)\n","import styled from \"styled-components\";\nimport { ContentHorizontalPadding,ContentLength,DesktopMiniWidth,TopNavBarHeight } from \"../../../../constvars\"\n\nexport const ToolBarWrapper = styled.div`\n  display:flex;\n  align-items:center;\n  border-width: 10px;\n  height: ${TopNavBarHeight/3}px;\n  @media (min-width: ${DesktopMiniWidth}px){\n    width: ${ContentLength};\n    margin-left: ${ContentHorizontalPadding};\n  }\n  overflow-x: auto;\n`\n\nexport const Button = styled.div`\n  margin:1px;\n  margin-left: 2px;\n  text-align:center;\n  cursor:pointer;\n  flex-wrap: nowrap;\n  white-space: nowrap;\n  min-width:56px;        \n  &:hover {\n    text-overflow:ellipsis;  color: cadetblue;\n  }\n\n`","import React, { Component } from \"react\"\nimport { ToolBarWrapper, Button } from \"./style\"\nimport { actionCreators } from \"../../../../pages/detail/store\"\nimport { connect } from \"react-redux\";\n\nclass DetailPageToolBar extends Component {\n    goBack() {\n        window.history.back()\n    }\n    render() {\n        const {\n            showReadList,\n            showArticleIndex\n        } = this.props\n\n        return (\n            <div>\n                <ToolBarWrapper>\n                    <Button onClick={this.goBack.bind(this)}>返回</Button>\n                    <Button onClick={() => showReadList()} >浏览主题</Button>\n                    <Button onClick={() => showArticleIndex()}>文章索引</Button>\n                </ToolBarWrapper>\n            </div>\n        )\n    }\n}\n\nconst mapState = state => ({\n    srl: state.getIn([\"detail\", \"showReadList\"])\n});\n\nconst mapDispatch = dispatch => ({\n    showTopic() {\n        dispatch(actionCreators.switchToolBar(false))\n    },\n    showReadList() {\n        dispatch(actionCreators.switchReadList())\n    },\n    showArticleIndex() {\n        dispatch(actionCreators.switchArticleIndex())\n    }\n});\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(DetailPageToolBar)","import styled from \"styled-components\";\nimport { ContentHorizontalPadding,ContentLength,DesktopMiniWidth,TopNavBarHeight } from \"../../../../constvars\"\n\nexport const ToolBarWrapper = styled.div`\n  border-width: 10px;\n  height: ${TopNavBarHeight/3}px;\n  @media (min-width: ${DesktopMiniWidth}px){\n    width: ${ContentLength};\n    margin-left: ${ContentHorizontalPadding};\n  }\n`\n\nexport const LineWrapper = styled.div`\n  display:flex;\n  overflow-x:auto;\n`\n\nexport const LineItem = styled.div`\n`\n","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { ToolBarWrapper, LineWrapper } from \"./style\"\nimport { actionCreators } from \"../../../../pages/write/store\"\n\nclass WriteToolBar extends Component {\n    constructor(props){\n        super(props)\n    }\n\n    render() {\n        return (\n            <ToolBarWrapper>\n                <span style={{position:\"relative\",top:600,left:550}}><img onClick={this.commitArticle.bind(this)} style={{cursor:\"pointer\"}} width=\"50vw\" height=\"50vw\" title=\"提交\" src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTg0OTcyMzc3Mzk2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjM3MzMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyIDBDMjI5LjY2ODU3MSAwIDAgMjI5LjY2ODU3MSAwIDUxMnMyMjkuNjY4NTcxIDUxMiA1MTIgNTEyIDUxMi0yMjkuNjY4NTcxIDUxMi01MTJTNzk0LjMzMTQyOSAwIDUxMiAweiBtMzA3LjIgMzQzLjc3MTQyOXMtMjY3LjcwMjg1NyAyOTUuNDk3MTQzLTMyNy42OCAzNjUuNzE0Mjg1Yy01OS45NzcxNDMgNzAuMjE3MTQzLTEwNi43ODg1NzEgMC0xMDYuNzg4NTcxIDBMMjEwLjY1MTQyOSA1MjkuNTU0Mjg2cy0yNy43OTQyODYtNDIuNDIyODU3IDIxLjk0Mjg1Ny04MS45MmM0Ni44MTE0MjktMzguMDM0Mjg2IDg0Ljg0NTcxNCAwIDg0Ljg0NTcxNCAwbDEyMi44OCAxMjguNzMxNDI4TDc0Ni4wNTcxNDMgMjkxLjEwODU3MXMyOS4yNTcxNDMtMjAuNDggNTkuOTc3MTQzIDUuODUxNDI5YzIzLjQwNTcxNCAyMS45NDI4NTcgMTMuMTY1NzE0IDQ2LjgxMTQyOSAxMy4xNjU3MTQgNDYuODExNDI5eiIgZmlsbD0iIzY4QkY3QiIgcC1pZD0iMzczNCI+PC9wYXRoPjwvc3ZnPg==\"/></span>\n            </ToolBarWrapper>\n        )\n\n    }\n    commitArticle()\n{\n    var day = new Date();\n    day.setTime(day.getTime());\n    var time = day.getFullYear()+\"-\" + (day.getMonth()+1) + \"-\" + day.getDate();\n    var articleContent=this.props.content\n    let articleInfo={\n        title:articleContent.split(\"\\n\")[0],\n        domainID:this.props.domain,\n        topicID:this.props.topic,\n        content:articleContent,\n        authorID:2,\n        authorName:\"zthang\",\n        publishDate:time\n    }\n    this.props.commitArticle(articleInfo)\n}\n}\nconst mapState = state => ({\n    domains: state.getIn([\"write\", \"domains\"]),\n    topics: state.getIn([\"write\", \"topics\"]),\n    domain: state.getIn([\"write\", \"domain\"]),\n    topic: state.getIn([\"write\", \"topic\"]),    \n    content: state.getIn([\"header\",\"content\"])\n})\n\nconst mapDispatch = dispatch => ({\n    getDomain() {\n        dispatch(actionCreators.getDomains())\n    },\n    commitArticle(articleInfo) {\n        dispatch(actionCreators.commitArticle(articleInfo))\n    }\n})\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(WriteToolBar)","import styled from \"styled-components\";\nimport logoPic from \"../../statics/logo.png\";\nimport { ContentHorizontalPadding,ContentLength,DesktopMiniWidth,TopNavBarHeight } from \"../../constvars\"\n\n\nconst toolBarHeight = TopNavBarHeight/3*2 ;\nconst topicBarHeight =toolBarHeight/2;\n\nconst navFontSize = 17;\nconst navDivMiniSize  = navFontSize*1.5;\n\nexport const HeaderLineWrapper = styled.div`\n  position:relative;\n  width:100%;\n  border-bottom: 1px solid #f0f0f0;\n`\n\nexport const HeaderWrapper = styled.div`\n  z-index: 1;\n  position: relative;\n  height: ${toolBarHeight}px;\n\n  @media (min-width: ${DesktopMiniWidth}px){\n    margin-left:${ContentHorizontalPadding};\n    width: ${ContentLength};\n  }\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n`;\n\nexport const Logo = styled.div`\n  width: 100px;\n  height: 50px;\n  @media(max-width: ${DesktopMiniWidth}px){\n    width: 75px;\n    height: 37.5px;\n  }\n  background: url(${logoPic});\n  background-size: contain;\n`;\n\nexport const NavWrapper = styled.div`\n  position: relative;\n  display:flex;\n  align-items:center;\n`\nexport const NavItemShowButton = styled.span`\n  &.arrow{\n      ::after{\n        @media (max-width: ${DesktopMiniWidth}px){\n          content:\"↓\"\n        }\n      }\n  }\n`\nexport const NonHomeItemWrapper = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  @media(max-width: ${DesktopMiniWidth}px){\n    display:${props => props.show ? \"block\":\"none\"};\n    flex-direction:column;\n    position:absolute;\n    background-color:white;\n    align-items:flex-start;\n    top:${toolBarHeight*1/2}px;\n    left:-50%;\n  }\n`;\n\nexport const NavItem = styled.div`\n  line-height: 56px;\n  padding: 0 15px;\n  &.home{\n    @media(max-width: ${DesktopMiniWidth}px){\n      padding:0px;\n    }\n  }\n  font-size: ${navFontSize}px;\n  color: #333;\n  cursor:pointer;\n  min-width: ${navDivMiniSize}px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  &.active {\n    color: dodgerblue;\n  }\n\n`;\n\nexport const LogoWrapper = styled.div`\n  font-size:17px;\n  margin:0px 10px;\n`\n\nexport const SearchWrapper = styled.div`\n  position: relative;\n  z-index: 3;\n  top:0;\n  cursor: pointer;\n  .zoom {\n    position: absolute;\n    right: 5px;\n    bottom: 5px;\n    width: 30px;\n    line-height: 30px;\n    border-radius: 15px;\n    text-align: center;\n    &.focused {\n      background: #777;\n      color: #fff;\n    }\n  }\n`;\n\nexport const NavSearch = styled.input.attrs({\n    placeholder: \"搜索\"\n})`\n  padding: 0 30px 0 20px;\n  height: 38px;\n  @media (min-width:${DesktopMiniWidth}px) {\n    margin-left: 20px;\n    width: 200px;\n  }\n\n  @media (max-width:${DesktopMiniWidth}px) {\n    width: 160;\n    margin: 0px;\n    margin-left:2px;\n    padding: 0px;\n  }\n  box-sizing: border-box;\n  border: none;\n  outline: none;\n  border-radius: 19px;\n  background: #eee;\n  font-size: 14px;\n  color: #666;\n  &::placeholder {\n    color: #999;\n  }\n  &.focused {\n    width: 240px;\n  }\n  &.slide-enter {\n    transition: all 0.2s ease-out;\n  }\n  &.slide-enter-active {\n    width: 240px;\n  }\n  &.slide-exit {\n    transition: all 0.2s ease-out;\n  }\n  &.slide-exit-active {\n    width: 160px;\n  }\n`;\n\nexport const SearchInfo = styled.div`\n  position: absolute;\n  z-index: auto;\n  top: 56px;\n  width: 240px;\n  padding: 0 20px;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\n  background: #fff;\n`;\n\nexport const SearchInfoTitle = styled.div`\n  margin-top: 20px;\n  margin-bottom: 15px;\n  line-height: 20px;\n  font-size: 14px;\n  color: #969696;\n`;\n\nexport const SearchInfoSwitch = styled.span`\n  float: right;\n  font-size: 13px;\n  cursor: pointer;\n  .spin {\n    display: block;\n    float: left;\n    font-size: 12px;\n    margin-right: 2px;\n    transition: all 0.2s ease-in;\n    transform-origin: center center;\n  }\n`;\n\nexport const SearchInfoList = styled.div`\n  overflow: hidden;\n`;\n\nexport const SearchInfoItem = styled.a`\n  display: block;\n  float: left;\n  line-height: 20px;\n  padding: 0 5px;\n  margin-right: 10px;\n  margin-bottom: 15px;\n  font-size: 12px;\n  border: 1px solid #ddd;\n  color: #787878;\n  border-radius: 3px;\n`;\n\nexport const Addition = styled.div`\n  margin-left:auto;\n  display: flex;\n  flex-wrap:nowrap;\n`;\n\nexport const Button = styled.div`\n  border: 1px solid dodgerblue;\n  min-width: 55px;\n  padding:0px;\n  margin-right:3px;\n  padding-right:0px;\n  border-radius:5px;\n  line-height: 30px;\n  text-align:center;\n  &.reg {\n    color: dodgerblue;\n  }\n  &.writting {\n    color: #fff;\n    background: dodgerblue;\n  }\n`;\n\nexport const TopicLineWrapper =styled.div`\n  display: ${props => props.show?\"block\":\"none\"};\n  border-bottom: 1px solid #f0f0f0;\n  width:100%;\n`\n\nexport const TopicWrapper = styled.div`\n  display:flex;\n  align-items:center;\n  border-width: 10px;\n  height: ${TopNavBarHeight/3}px;\n  @media (min-width: ${DesktopMiniWidth}px){\n    width: ${ContentLength};\n    margin-left: ${ContentHorizontalPadding};\n  }\n  overflow-x: auto;\n`\n\nexport const TopicItem = styled.div`\n  color:${props => props.active==props.idx ? \"dodgerblue\":\"grey\"};\n  margin:1px;\n  margin-left: 2px;\n  margin-right: 5px;\n  text-align:center;\n  cursor:pointer;\n  flex-wrap: nowrap;\n  white-space: nowrap;\n  min-width:56px;        \n  &:hover {\n  text-overflow:ellipsis;  color: cadetblue;\n  }\n`\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport NavSearch from \"../header/components/searchBar\"\nimport { actionCreators } from \"./store\";\nimport * as toolbarTypes from \"./store/constants\"\nimport { actionCreators as loginActionCreators } from \"../../pages/login/store\";\nimport { actionCreators as HomeContentCreator } from \"../../pages/home/store\"\nimport DetailPageToolBar from \"../header/components/detailToolBar\"\nimport WriteToolBar from \"./components/writeToolBar\"\n\nimport {\n    HeaderWrapper,\n    NonHomeItemWrapper,\n    NavItem,\n    SearchWrapper,\n    SearchInfo,\n    SearchInfoTitle,\n    SearchInfoSwitch,\n    SearchInfoList,\n    SearchInfoItem,\n    Addition,\n    Button,\n    TopicItem,\n    TopicWrapper,\n    NavWrapper,\n    NavItemShowButton,\n    HeaderLineWrapper,\n    TopicLineWrapper as ToolBarWrapper,\n    LogoWrapper\n} from \"./style\";\n\nclass Header extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            NavItemShow: false,\n            ActiveNo: 0,\n        }\n    }\n\n    componentDidMount() {\n        this.props.handleGetTopic()\n    }\n\n    showItem() {\n        let preValue = this.state.NavItemShow\n        this.setState({\n            NavItemShow: !preValue\n        })\n    }\n\n    onChangeTopic(idx) {\n        const {\n            handleChangeTopic\n        } = this.props;\n\n        this.setState({\n            ActiveNo: idx\n        })\n\n        handleChangeTopic(idx)\n    }\n\n    getTopics() {\n        const {\n            topics,\n            handleChangeTopic\n        } = this.props;\n\n        const {\n            ActiveNo\n        } = this.state;\n\n\n        const newTopics = topics.toJS()\n        const topicItems = []\n        newTopics.map((item, idx) => {\n            topicItems.push(\n                <TopicItem idx={idx} active={ActiveNo} onClick={() => this.onChangeTopic.bind(this)(idx)} key={idx}>\n                    {item.domain}\n                </TopicItem>\n            )\n        })\n\n        return topicItems\n    }\n\n\n    render() {\n        const {\n            login,\n            logout,\n            showToolBar,\n            handleShowLogin,\n            handleShowRegister,\n            toolbar\n        } = this.props;\n        return (\n            <div>\n                <HeaderLineWrapper>\n                    <HeaderWrapper>\n                        <Link to=\"/\">\n                            <LogoWrapper>\n                                <div>知识</div>\n                                <div>论坛</div>\n                            </LogoWrapper>\n                        </Link>\n                        <NavWrapper>\n                            <Link to=\"/\">\n                                <NavItem className=\"active home\">首页</NavItem>\n                            </Link>\n                            <NavItemShowButton className=\"arrow\" onClick={this.showItem.bind(this)}></NavItemShowButton>\n                            <NonHomeItemWrapper show={this.state.NavItemShow}>\n                                <Link to=\"/write\">\n                                    <NavItem className=\"left\">写文章</NavItem>\n                                </Link>\n                                <NavItem className=\"right\">\n                                    我的收藏\n                                </NavItem>\n                            </NonHomeItemWrapper>\n                        </NavWrapper>\n                        <NavSearch />\n                        <Addition>\n                            {login ? (\n                                <Button className=\"writting\" onClick={logout}>\n                                    退出\n                                </Button>\n                            ) : (\n                                    <Button className=\"writting\" onClick={handleShowLogin}>\n                                        登陆\n                                    </Button>\n                                )}\n                            <Button className=\"reg\" onClick={handleShowRegister}>注册</Button>\n                        </Addition>\n                    </HeaderWrapper>\n                </HeaderLineWrapper>\n\n                <ToolBarWrapper show={toolbar==toolbarTypes.ARTICLE_TOOL_BAR}>\n                    <DetailPageToolBar />\n                </ToolBarWrapper>\n\n                <ToolBarWrapper  show={toolbar==toolbarTypes.TOPIC_TOOL_BAR}>\n                    <TopicWrapper>\n                        {this.getTopics()}\n                    </TopicWrapper>\n                </ToolBarWrapper>\n\n                <ToolBarWrapper show={toolbar==toolbarTypes.WRITE_TOOL_BAR}>\n                    <WriteToolBar/>\n                </ToolBarWrapper>\n\n\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        focused: state.getIn([\"header\", \"focused\"]),\n        list: state.getIn([\"header\", \"list\"]),\n        page: state.getIn([\"header\", \"page\"]),\n        totalPage: state.getIn([\"header\", \"totalPage\"]),\n        mouseIn: state.getIn([\"header\", \"mouseIn\"]),\n        login: state.getIn([\"login\", \"login\"]),\n        topics: state.getIn([\"home\", \"topics\"]),\n        tags: state.getIn([\"header\", \"tags\"]),\n        showToolBar: state.getIn([\"detail\", \"showToolBar\"]),\n        toolbar: state.getIn([\"header\", \"toolbar\"])\n    };\n};\n\nconst mapDispathToProps = dispatch => {\n    return {\n        handleInputFocus(list) {\n            list.size === 0 && dispatch(actionCreators.getList());\n            dispatch(actionCreators.searchFocus());\n        },\n        handleInputBlur() {\n            dispatch(actionCreators.searchBlur());\n        },\n        handleMouseEnter() {\n            dispatch(actionCreators.mouseEnter());\n        },\n        handleMouseLeave() {\n            dispatch(actionCreators.mouseLeave());\n        },\n        handleChangePage(page, totalPage, spin) {\n            let originAngle = spin.style.transform.replace(/[^0-9]/gi, \"\");\n            if (originAngle) {\n                originAngle = parseInt(originAngle, 10);\n            } else {\n                originAngle = 0;\n            }\n            spin.style.transform = \"rotate(\" + (originAngle + 360) + \"deg)\";\n\n            if (page < totalPage) {\n                dispatch(actionCreators.changePage(page + 1));\n            } else {\n                dispatch(actionCreators.changePage(1));\n            }\n        },\n        handleGetTopic() {\n            dispatch(HomeContentCreator.getTopics())\n        },\n        logout() {\n            dispatch(loginActionCreators.logout());\n        },\n        handleChangeTopic(idx) {\n            dispatch(HomeContentCreator.setTopic(idx))\n        },\n        handleShowLogin() {\n            dispatch(loginActionCreators.showPopup(true))\n        },\n        handleShowRegister() {\n            dispatch(loginActionCreators.showPopup(false))\n        }\n    };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispathToProps\n)(Header);\n","import styled from \"styled-components\";\nimport {ContentHorizontalPadding, ContentLength, DesktopMiniWidth} from \"../../constvars\";\n\n\nexport const HomeWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  overflow: hidden;\n  width: 100%;\n  margin: 0 auto;\n`;\n\nexport const HomeLeft = styled.div`\n  padding: 15px;\n  padding-top: 30px;\n  @media (min-width: ${DesktopMiniWidth}px){\n    width: 70%;\n  }\n  @media (max-width: ${DesktopMiniWidth}px){\n    width:100%;\n  }\n  .banner-img {\n    width: 625px;\n    height: 270px;\n  }\n  background-color: white; \n`;\n\nexport const HomeRight = styled.div`\n  width: 28%;\n  @media (max-width: ${DesktopMiniWidth}px){\n    display: none;\n  }\n  background-color: white; \n`;\n\nexport const TopicWrapper = styled.div`\n  overflow: hidden;\n  padding: 20px 0 10px 0;\n  margin-left: -18px;\n  border-bottom: 1px solid #dcdcdc;\n`;\n\nexport const TopicItem = styled.div`\n  float: left;\n  height: 32px;\n  line-height: 32px;\n  margin-left: 18px;\n  margin-bottom: 18px;\n  padding-right: 10px;\n  background: #f7f7f7;\n  font-size: 14px;\n  color: #000;\n  border: 1px solid #dcdcdc;\n  border-radius: 4px;\n  .topic-pic {\n    display: block;\n    float: left;\n    width: 32px;\n    height: 32px;\n    margin-right: 10px;\n  }\n`;\n\nexport const ListItem = styled.div`\n  overflow: hidden;\n  padding: 20px 0;\n  :first{\n    padding-top:5px;\n  }\n  border-bottom: 1px solid #dcdcdc;\n  width: 100%;\n  \n  .pic {\n    display: block;\n    width: 125px;\n    height: 100px;\n    float: right;\n    border-radius: 10px;\n  }\n`;\n\nexport const ListInfo = styled.div`\n  width: 98%;\n  .title {\n    line-height: 27px;\n    font-size: 18px;\n    font-weight: bold;\n    max-width: 98%;\n    text-overflow:ellipsis;\n    color: #333;\n  }\n  .desc {\n    line-height: 24px;\n    font-size: 13px;\n    color: #999;\n    text-overflow:ellipsis;\n    height:50px;\n  }\n`;\n\nexport const RecommendWrapper = styled.div`\n  margin: 30px 0;\n  width: 280px;\n`;\n\nexport const RecommendItem = styled.div`\n  width: 280px;\n  height: 50px;\n  background: url(${props => props.imgUrl});\n  background-size: contain;\n`;\n\nexport const WriterWrapper = styled.div`\n  width: 278px;\n  border: 1px solid #dcdcdc;\n  border-radius: 3px;\n  height: 300px;\n  line-height: 300px;\n  text-align: center;\n`;\n\nexport const LoadMore = styled.div`\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  margin: 30px 0;\n  background: #a5a5a5;\n  text-align: center;\n  border-radius: 20px;\n  color: #fff;\n  cursor: pointer;\n`;\n\nexport const BackTop = styled.div`\n  position: fixed;\n  right: 100px;\n  bottom: 100px;\n  width: 60px;\n  height: 60px;\n  line-height: 60px;\n  text-align: center;\n  border: 1px solid #ccc;\n  font-size: 14px;\n`;\n\nexport const TagWrapper = styled.div`\n  display:flex;\n  flex-wrap: wrap;\n  align-items:center;\n  margin-top: 1px;\n  border-width: 10px;\n  width:100%;\n`\n\nexport const TagItem =styled.div`\n  font-size: 13px;\n  border: 1px solid #ddd;\n  color: #787878;\n  border-radius: 3px;\n\n  background-color:white;\n\n  padding: 3px;\n  margin-right: 15px;\n  margin-bottom:15px;\n  text-align:center;\n  cursor:pointer;\n  \n  &:hover {\n    color: cadetblue;\n  }\n`\n","import React, { PureComponent } from \"react\";\nimport { ListItem, ListInfo, LoadMore } from \"../style\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"../store\";\nimport { Link } from \"react-router-dom\";\n\nclass List extends PureComponent {\n  render() {\n    const { list, getMoreList, page } = this.props;\n    return (\n      <div>\n        {list.map((item, index) => {\n          return (\n            <Link key={index} to={\"/detail/\" + item.get(\"id\")}>\n              <ListItem>\n                <ListInfo>\n                  <h3 className=\"title\" dangerouslySetInnerHTML={{__html:item.get(\"title\")}}/>\n                  <div className=\"desc\" dangerouslySetInnerHTML={{__html:item.get(\"content\")}}/>\n                </ListInfo>\n              </ListItem>\n            </Link>\n          );\n        })}\n        <LoadMore onClick={() => getMoreList(page)}>更多文字</LoadMore>\n      </div>\n    );\n  }\n}\n\nconst mapState = state => ({\n  list: state.getIn([\"home\", \"articleList\"]),\n  page: state.getIn([\"home\", \"articlePage\"])\n});\n\nconst mapDispatch = dispatch => ({\n  getMoreList(page) {\n    dispatch(actionCreators.getMoreList(page));\n  }\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(List);\n","import React, { PureComponent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { RecommendWrapper, RecommendItem } from \"../style\";\n\nclass Recommend extends PureComponent {\n  render() {\n    return (\n      <RecommendWrapper>\n        {this.props.list.map(item => {\n          return (\n            <RecommendItem imgUrl={item.get(\"imgUrl\")} key={item.get(\"id\")} />\n          );\n        })}\n      </RecommendWrapper>\n    );\n  }\n}\n\nconst mapState = state => ({\n  list: state.getIn([\"home\", \"recommendList\"])\n});\n\nexport default connect(\n  mapState,\n  null\n)(Recommend);\n","import React from \"react\";\nimport { WriterWrapper } from \"../style\";\n\nconst Writer = () => <WriterWrapper><img src=\"https://image.tubangzhu.com/updata/202002/11/77ddc38facaed2ba618e.png\" width=\"100%\" /></WriterWrapper>;\n\nexport default Writer;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport List from \"./components/List\";\nimport Recommend from \"./components/Recommend\";\nimport Writer from \"./components/Writer\";\nimport { actionCreators } from \"./store\";\nimport {actionCreators as headerActionCreator} from \"../../common/header/store\"\nimport {TOPIC_TOOL_BAR}from \"../../common/header/store/constants\"\nimport {BackTop } from \"./style\";\n\nimport { HomeWrapper, HomeLeft, HomeRight,TagWrapper,TagItem } from \"./style\";\n\nclass Home extends Component {\n  handleScrollTop() {\n    window.scrollTo(0, 0);\n  }\n\n\n  getTags() {\n    const {\n      tags,\n      handleSetTag\n    }=  this.props\n\n    const tagsItem = []\n    tags.toJS().map((tag, idx) => {\n      tagsItem.push(\n          <TagItem  key={tag.id} onClick={()=>handleSetTag(idx)}>\n            {tag.topic}\n          </TagItem>\n      )\n    })\n\n    return tagsItem\n  }\n\n  render() {\n    return (\n        <div>\n          <TagWrapper>\n            { this.getTags() }\n          </TagWrapper>\n          <HomeWrapper>\n            <HomeLeft>\n              <List />\n            </HomeLeft>\n            <HomeRight>\n              <Recommend />\n              <Writer />\n            </HomeRight>\n            {this.props.showScroll ? (\n              <BackTop onClick={this.handleScrollTop}>顶部</BackTop>\n            ) : null}\n          </HomeWrapper>\n        </div>\n    );\n  }\n\n  componentDidMount() {\n    this.props.changeHomeData();\n    this.bindEvents();\n    this.props.showTopic();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.props.changeScrollTopShow);\n  }\n\n  bindEvents() {\n    window.addEventListener(\"scroll\", this.props.changeScrollTopShow);\n  }\n}\n\nconst mapState = state => ({\n  showScroll: state.getIn([\"home\", \"showScroll\"]),\n  tags:state.getIn([\"home\",\"tags\"])\n});\n\nconst mapDispatch = dispatch => ({\n  changeHomeData() {\n    dispatch(actionCreators.setHomeList());\n  },\n  changeScrollTopShow() {\n    dispatch(\n      actionCreators.toggleTopShow(document.documentElement.scrollTop > 100)\n    );\n  },\n  handleSetTag(idx){\n    dispatch(actionCreators.setTag(idx))\n  },\n  showTopic(){\n    dispatch(headerActionCreator.changeToolBar(TOPIC_TOOL_BAR))\n  }\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(Home);\n","import React from \"react\";\nimport Loadable from \"react-loadable\";\n\nconst LoadableComponent = Loadable({\n  loader: () => import(\"./\"),\n  loading() {\n    return <div>正在加载</div>;\n  }\n});\n\nexport default () => <LoadableComponent />;\n","import styled from \"styled-components\";\n\nexport const PopupContainer = styled.div`\n  display:${(props)=>props.show?\"flex\":\"none\"};\n  position:fixed;\n  z-index:500;\n  background-color: rgba(0, 0, 0, 0.25);\n\n  justify-content:center;\n  align-items:center;\n  top:0;\n  left:0;\n  right:0;\n  bottom:0;\n`\n\nexport const PopupToolBar = styled.div`\n  width: 318px;\n  background-color:white;\n  display:flex;\n  align-items:center;\n\n  .closebutton{\n      margin-left:auto\n  }\n`\n\nexport const LoginBoxWrapper = styled.div`\n  display:${(props)=>props.show?\"block\":\"none\"};\n  width: 318px;\n  font-size: 1.167rem;\n  padding:2rem;\n  padding-top:0;\n  background-color:white;\n\n  .inputbox{\n      margin-top:10px;\n  }\n\n  .submit{\n      margin-top:30px;\n      width:100%\n  }\n\n  .title{\n      margin-bottom:30px;\n  }\n\n  .register{\n      font-size:0.6rem;\n  }\n\n  .toolbar{\n      display:flex;\n      align-items:center;\n  }\n`\n\nexport const RegisterBoxWrapper = styled.div`\n  display:${(props)=>props.show?\"block\":\"none\"};\n\n  width: 318px;\n  font-size: 1.167rem;\n  padding:2rem;\n  background-color:white;\n  padding-top:0;\n\n  .title{\n      margin-bottom:30px;\n  }\n\n  .inputbox{\n      margin-top:10px;\n  }\n\n  .submit{\n      margin-top:30px;\n      width:100%\n  }\n\n  .toolbar{\n      display:flex;\n      align-items:center;\n  }\n\n  .login{\n      font-size:0.6rem;\n  }\n`\n","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { PopupContainer, LoginBoxWrapper, PopupToolBar, RegisterBoxWrapper } from \"./style\"\nimport { Input, Button } from 'antd';\nimport { actionCreators } from '../../pages/login/store'\n\n\nclass LoginPopup extends Component {\n    constructor(props) {\n        super(props)\n        this.state = { password: \"\", username: \"\" }\n        this.handleInputUserName = this.handleInputUserName.bind(this)\n        this.handleInputPassword = this.handleInputPassword.bind(this)\n    }\n\n    handleInputUserName(e) {\n        this.setState({ username: e.target.value })\n    }\n\n    handleInputPassword(e) {\n        this.setState({ password: e.target.value })\n    }\n\n    render() {\n        const {\n            handleSwitchToLogin,\n            handleSwitchToRegister,\n            handleLogin,\n            hadnleRegister\n        } = this.props\n\n        const {\n            username,\n            password\n        } = this.state\n\n        return (\n            <PopupContainer show={this.props.show}>\n                <div>\n                    <PopupToolBar>\n                        <Button type=\"link\" className=\"closebutton\" onClick={this.props.handleClosePopup}>关闭</Button>\n                    </PopupToolBar>\n                    <LoginBoxWrapper show={this.props.isLoginPage}>\n                        <div className=\"title\" >\n                            登陆\n                    </div>\n                        <Input onChange={(e) => this.handleInputUserName(e)} placeholder=\"请输入邮箱\" />\n                        <Input.Password onChange={this.handleInputPassword} placeholder=\"请输入密码\" className=\"inputbox\" />\n                        <Button\n                            type=\"primary\"\n                            className=\"submit\"\n                            onClick={() => { handleLogin(username, password) }}>确定</Button>\n                        <div className=\"toolbar\">\n                            <div className=\"register\">\n                                没有账号?\n                    </div>\n                            <Button type=\"link\" className=\"register \" onClick={handleSwitchToRegister}>注册</Button>\n                        </div>\n                    </LoginBoxWrapper>\n\n                    <RegisterBoxWrapper show={!this.props.isLoginPage}>\n                        <div className=\"title\">\n                            注册\n                    </div>\n                        <Input className=\"inputbox\" placeholder=\"请输入用户名\" />\n                        <Input className=\"inputbox\" placeholder=\"请输入邮箱\" />\n                        <Input.Password className=\"inputbox\" placeholder=\"请输入密码\" />\n                        <Input.Password className=\"inputbox\" placeholder=\"请重复输入密码\" />\n                        <Button type=\"primary\" className=\"submit\" onClick={hadnleRegister}>注册</Button>\n\n                        <div className=\"toolbar\">\n                            <div className=\"login\">\n                                已有账号?\n                    </div>\n                            <Button type=\"link\" className=\"login\" onClick={handleSwitchToLogin}>登陆</Button>\n                        </div>\n\n                    </RegisterBoxWrapper>\n                </div>\n            </PopupContainer>\n        )\n    }\n}\n\nconst mapState = state => ({\n    show: state.getIn([\"login\", \"showPopup\"]),\n    isLoginPage: state.getIn([\"login\", \"isLoginPage\"])\n})\n\nconst mapDispatch = dispatch => ({\n    handleLogin(username, password) {\n        dispatch(actionCreators.login(username, password))\n    },\n    hadnleRegister(username,email,password){\n        dispatch(actionCreators.register(username,email,password))\n    },\n    handleClosePopup() {\n        dispatch(actionCreators.closePopup())\n    },\n    handleSwitchToRegister() {\n        dispatch(actionCreators.changePage(false))\n    },\n    handleSwitchToLogin() {\n        dispatch(actionCreators.changePage(true))\n    }\n})\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(LoginPopup)\n","import styled from \"styled-components\";\n\nexport const LoginWrapper = styled.div`\n  z-index: 0;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 56px;\n  background: #eee;\n`;\n\nexport const LoginBox = styled.div`\n  width: 400px;\n  height: 180px;\n  margin: 100px auto;\n  padding-top: 20px;\n  background: #fff;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);\n`;\n\nexport const Input = styled.input`\n  display: block;\n  width: 200px;\n  height: 30px;\n  line-height: 30px;\n  padding: 0 10px;\n  margin: 10px auto;\n  color: #777;\n`;\n\nexport const Button = styled.div`\n  width: 220px;\n  height: 30px;\n  line-height: 30px;\n  color: #fff;\n  background: #3194d0;\n  border-radius: 15px;\n  margin: 10px auto;\n  text-align: center;\n`;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { LoginWrapper, LoginBox, Input, Button } from \"./style\";\nimport { actionCreators } from \"./store\";\n\nconst Login = props => {\n  const { loginStatus } = props;\n  if (!loginStatus) {\n    return (\n      <LoginWrapper>\n        <LoginBox>\n          <Input\n            placeholder=\"账号\"\n            innerRef={input => {\n              this.account = input;\n            }}\n          />\n          <Input\n            placeholder=\"密码\"\n            type=\"password\"\n            innerRef={input => {\n              this.password = input;\n            }}\n          />\n          <Button onClick={() => props.login(this.account, this.password)}>\n            登陆\n          </Button>\n        </LoginBox>\n      </LoginWrapper>\n    );\n  } else {\n    return <Redirect to=\"/\" />;\n  }\n};\n\nconst mapState = state => ({\n  loginStatus: state.getIn([\"login\", \"login\"])\n});\n\nconst mapDispatch = dispatch => ({\n  login(accountElem, passwordElem) {\n    dispatch(actionCreators.login(accountElem.value, passwordElem.value));\n  }\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(Login);\n","import styled from \"styled-components\";\n\nexport const LineWrapper = styled.div`\n  display:flex;\n  overflow-x:auto;\n`\n\nexport const EditorWrapper =styled.div`\n  background-color:white;\n`\n\nexport const TitleWrapper = styled.div`\n    font-size: 15px;\n    font-weight:bold;\n`\n\nexport const DomainItemWrapper =styled.div`\n    display: inline-block;\n    zoom: 1;\n    *: ;\n    display: inline;\n    vertical-align: baseline;\n    margin: 0 1px;\n    outline: none;\n    cursor: pointer;\n    text-align: center;\n    text-decoration: none;\n    font: 14px/100% Arial, Helvetica, sans-serif;\n    padding: .5em 2em .20em;\n    text-shadow: 0 1px 1px rgba(0,0,0,.3);\n    -webkit-border-radius: .500em;\n    -moz-border-radius: .5em;\n    border-radius: .5em;\n    -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.2);\n    -moz-box-shadow: 0 1px 2px rgba(0,0,0,.2);\n    box-shadow: 0 1px 2px rgba(0,0,0,.2);\n    font-size: 11px;\n    color: #606060;\n    border: solid 1px #b7b7b7;\n`\n\nexport const TopicItemWrapper =styled.div`\ndisplay: inline-block;\n    zoom: 1;\n    *: ;\n    display: inline;\n    vertical-align: baseline;\n    margin: 0 1px;\n    outline: none;\n    cursor: pointer;\n    text-align: center;\n    text-decoration: none;\n    font: 14px/100% Arial, Helvetica, sans-serif;\n    padding: .5em 2em .10em;\n    text-shadow: 0 1px 1px rgba(0,0,0,.3);\n    -webkit-border-radius: .20em;\n    -moz-border-radius: .5em;\n    border-radius: .5em;\n    -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.2);\n    -moz-box-shadow: 0 1px 2px rgba(0,0,0,.2);\n    box-shadow: 0 1px 2px rgba(0,0,0,.2);\n    font-size: 11px;\n    color: #606060;\n    border: solid 1px #b7b7b7;\n`","import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { actionCreators } from \"../../store\"\nimport {LineWrapper, EditorWrapper, TitleWrapper, DomainItemWrapper, TopicItemWrapper} from \"./style\"\n\nclass WriteToolBar extends Component {\n    constructor(props){\n        super(props)\n        this.getDomains=this.getDomains.bind(this)\n        this.getTopics=this.getTopics.bind(this)\n        this.selectDomain=this.selectDomain.bind(this)\n        this.selectTopic=this.selectTopic.bind(this)\n    }\n\n    componentDidMount() {\n        console.log(this.props.topics)\n        this.props.getDomain()\n    }\n\n    selectDomain(e){\n        var domains=this.getDomains()\n        var selectedDomain=0\n        for(var i=0;i<domains.length;i++)\n            if(domains[i].props.children==e.target.value)\n                selectedDomain=domains[i].key\n        this.props.getTopic(selectedDomain)     \n    }\n    selectTopic(e){\n        var topics=this.props.topics.toJS()\n        var selectedTopic=0\n        for(var i=0;i<topics.length;i++)\n            if(topics[i].topic==e.target.value)\n                selectedTopic=topics[i].id\n        this.props.setSelectedTopic(selectedTopic)  \n    }\n\n    getDomains() {\n        const {\n            domains\n        }=this.props\n\n\n        let items=[]\n        if (domains==undefined){\n            return items\n        }\n\n        domains.toJS().forEach(domain => {\n            items.push(\n                <option key={domain.id==null?0:domain.id}>{domain.domain}</option>\n            )\n        })\n\n        return items\n    }\n\n    getTopics() {\n        const {\n            topics\n        }=this.props\n\n        console.log(topics)\n\n        let items=[]\n        topics.toJS().forEach(topic => {\n            items.push(<option key={topic.id==null?0:topic.id}>\n                {topic.topic}\n            </option>)\n        })\n\n        return items\n    }\n\n    render() {\n        return (\n            <EditorWrapper>\n                <LineWrapper>\n                    <TitleWrapper>学科:</TitleWrapper>\n                    <select onChange={this.selectDomain}>\n                    {\n                        this.getDomains()\n                    }\n                    </select>\n                </LineWrapper>\n                <LineWrapper>\n                    <TitleWrapper>主题:</TitleWrapper>\n                    <select onChange={this.selectTopic}>\n                    {\n                        this.getTopics()\n                    }\n                    </select>\n                </LineWrapper>\n            </EditorWrapper>\n        )\n\n    }\n}\n\nconst mapState = state => ({\n    domains: state.getIn([\"write\", \"domains\"]),\n    topics: state.getIn([\"write\", \"topics\"])\n})\n\nconst mapDispatch = dispatch => ({\n    getDomain() {\n        dispatch(actionCreators.getDomains())\n    },\n    getTopic(domainID){\n        dispatch(actionCreators.getTopics(domainID))\n    },\n    setSelectedTopic(selectedTopic){\n        dispatch(actionCreators.setSelectedTopic(selectedTopic))\n    }\n})\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(WriteToolBar)","import React, { Component } from 'react'\nimport Editor from 'for-editor'\nimport { connect } from 'react-redux'\nimport { actionCreators as headerActionCreators } from \"../../../../common/header/store\"\nimport { WRITE_TOOL_BAR } from \"../../../../common/header/store/constants\"\nimport Toolbar from \"../toolbar\"\n\nclass WebSiteEditor extends Component {\n    constructor() {\n        super()\n        this.state = {\n            value: ''\n        }\n        this.handleChange=this.handleChange.bind(this)\n    }\n\n    handleChange(value) {\n        console.log(value)\n        this.setState({\n            value\n        })\n        this.props.contentChange(value)\n    }\n\n    componentDidMount() {\n        this.props.showToolBar()\n    }\n\n    render() {\n        let toolbar = {\n            img: true, // 图片\n            link: true, // 链接\n            code: true, // 代码块\n            preview: true, // 预览\n            expand: true, // 全屏\n            /* v0.0.9 */\n            undo: true, // 撤销\n            redo: true, // 重做\n            save: true, // 保存\n            /* v0.2.3 */\n            subfield: true, // 单双栏模式\n        }\n        const { value } = this.state\n        return (\n            <div>\n                <Toolbar/>\n                <Editor value={value} onChange={(value) => this.handleChange(value)} toolbar={toolbar} />\n            </div>\n        )\n    }\n}\n\nconst mapState = state => ({\n\n})\n\nconst mapDispatch = dispatch => ({\n    showToolBar() {\n        dispatch(headerActionCreators.changeToolBar(WRITE_TOOL_BAR))\n    },\n    contentChange(value){\n        dispatch(headerActionCreators.contentChange(value))\n    }\n})\n\nexport default connect(\n    mapState,\n    mapDispatch\n)(WebSiteEditor)","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Editor from \"./components/editor\"\nimport { actionCreators as loginActionCreators } from \"../login/store\";\n\nconst Write = props => {\n  const { loginStatus,handleShowLogin } = props;\n  if (loginStatus) {\n    return (\n      <Editor/>\n    );\n  } else {\n    handleShowLogin()\n    return (\n      <Redirect to=\"/\"/>\n    )\n  }\n};\n\nconst mapState = state => ({\n  loginStatus: state.getIn([\"login\", \"login\"])\n});\n\nconst mapDispatch = dispatch =>({\n    handleShowLogin() {\n        dispatch(loginActionCreators.showPopup(true))\n    }\n})\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(Write);\n","import styled, { injectGlobal } from \"styled-components\";\nimport { ContentHorizontalPadding, ContentLength, TopNavBarHeight, DesktopMiniWidth } from \"./constvars\";\n\ninjectGlobal`\n\thtml, body, div, span, applet, object, iframe,\n\tblockquote, pre,\n\ta, abbr, acronym, address, big, cite, code,\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\n\tsmall, strike, strong, sub, sup, tt, var,\n\tb, u, i, center,\n\tdl, dt, dd, ol, \n\tfieldset, form, label, legend,\n\tarticle, aside, canvas, details, embed, \n\tfigure, figcaption, footer, header, hgroup, \n\tmenu, nav, output, ruby, section, summary,\n\ttime, mark, audio, video {\n\t    box-sizing: border-box;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tvertical-align: baseline;\n\t}\n\t/* HTML5 display-role reset for older browsers */\n\tarticle, aside, details, figcaption, figure, \n\tfooter, header, hgroup, menu, nav, section {\n\t\tdisplay: block;\n\t}\n\tbody {\n\t\tline-height: 1;\n\t}\n\tol, ul {\n\t\tlist-style: none;\n\t}\n\tblockquote, q {\n\t\tquotes: none;\n\t}\n\tblockquote:before, blockquote:after,\n\tq:before, q:after {\n\t\tcontent: '';\n\t\tcontent: none;\n\t}\n\ttable {\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\t}\n`;\n\nexport const MainContainer = styled.div`\n  margin-top:${TopNavBarHeight}px;\n  background-color: #F8F8F8;\n  padding-top:15px;\n`\n\nexport const ContentContainer = styled.div`\n  @media (min-width: ${DesktopMiniWidth}px){\n    margin-left:${ContentHorizontalPadding};\n    width:${ContentLength};\n  }\n`\n\nexport const TopNavBarContainer = styled.div`\n  position:fixed;\n  z-index:200;\n  top: 0;\n  width:100%;\n  background-color: white; \n`\n\n","import React, { Component } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter, Route, HashRouter } from \"react-router-dom\";\nimport Header from \"./common/header\";\nimport Home from \"./pages/home\";\nimport Detail from \"./pages/detail/loadable.js\";\nimport LoginPopup from \"./common/loginpopup\"\nimport Login from \"./pages/login\";\nimport Write from \"./pages/write\";\nimport store from \"./store\";\nimport 'antd/dist/antd.css';\nimport { ContentContainer, MainContainer, TopNavBarContainer } from \"./style\";\nimport ArticleBrowser from \"./pages/detail/components/articlebrowser\"\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <div>\n          <HashRouter>\n            <div>\n              <TopNavBarContainer>\n                <Header />\n              </TopNavBarContainer>\n              <div>\n                <MainContainer>\n                  <ContentContainer>\n                    <LoginPopup />\n                    <Route path=\"/\" exact component={Home} />\n                    <Route path=\"/login\" exact component={Login} />\n                    <Route path=\"/write\" exact component={Write} />\n                    <Route path=\"/detail/:id\" exact component={Detail} />\n                  </ContentContainer>\n                </MainContainer>\n              </div>\n            </div>\n          </HashRouter>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import { injectGlobal } from 'styled-components';\n\ninjectGlobal`\n  @font-face {\n    font-family: \"iconfont\";\n    src: url('./iconfont.eot?t=1528610804703'); /* IE9*/\n    src: url('./iconfont.eot?t=1528610804703#iefix') format('embedded-opentype'), /* IE6-IE8 */\n    url('data:application/x-font-woff;charset=utf-8;base64,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') format('woff'),\n    url('./iconfont.ttf?t=1528610804703') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/\n    url('./iconfont.svg?t=1528610804703#iconfont') format('svg'); /* iOS 4.1- */\n  }\n\n  .iconfont {\n    font-family:\"iconfont\" !important;\n    font-size:16px;\n    font-style:normal;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n`;\n\n\n\n\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./style.js\";\nimport \"./statics/iconfont/iconfont\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","export const UPDATE_DRAFT=\"write/UPDATE_DRAFT\"\nexport const CHANGE_TOPIC=\"write/CHANGE_TOPIC\"\nexport const CHANGE_DOMAIN=\"write/CHANGE_DOMAIN\"\nexport const GET_DOMAINS=\"write/GET_DOMAINS\"\nexport const GET_TOPICS=\"write/GET_TOPICS\"\nexport const SET_SELECTED_TOPIC=\"write/SET_SELECTED_TOPIC\"\nexport const COMMIT_ARTICLE=\"write/COMMIT_ARTICLE\"","import { fromJS } from \"immutable\";\nimport * as constants from \"./constants\";\n\nconst defaultState = fromJS({\n    draft: \"\",\n    domain: Object,\n    topic: Object,\n    domains: undefined,\n    topics: []\n});\n\nconst changeDomain = (state, action) => {\n    return state.merge({\n        topics: action.data.topics,\n        domain: action.data.domain\n    })\n}\n\nconst setDomains = (state, action) => {\n    console.log(action)\n    return state.merge({\n        domains: action.data.domains,\n        domain: action.data.domains[0].id,\n        topics: action.data.topics,\n        topic: action.data.topics[0].id,\n    })\n}\n\nconst setTopics = (state, action) => {\n    return state.merge({\n        domain: action.data.domain,\n        topics: action.data.topics,\n        topic: action.data.topics[0].id,\n    })\n}\n\nconst setSelectedTopic = (state, action) => {\n    return state.merge({\n        topic:action.data\n    })\n}\n\nexport default (state = defaultState, action) => {\n    switch (action.type) {\n        case constants.CHANGE_DOMAIN:\n            return changeDomain(state, action)   \n        case constants.CHANGE_TOPIC:\n            return state.set(\"topic\", action.data.topic)\n        case constants.COMMIT_ARTICLE:\n            return state\n        case constants.SET_SELECTED_TOPIC:    \n            return setSelectedTopic(state, action)\n        case constants.GET_DOMAINS:\n            return setDomains(state, action)\n        case constants.GET_TOPICS:\n            return setTopics(state, action)   \n        case constants.UPDATE_DRAFT:\n            return state.set(\"draft\", action.data.draft)\n        default:\n            return state\n    }\n}","import * as constants from \"./constants\";\nimport httpClient, { client, handleErr, handleResponse } from \"../../../client\"\nimport Qs from 'qs'\n\nconst getFields = (getState, field) => {\n    const store = getState().toJS().write\n    return store[field]\n}\n\nconst getStoreDomains = (getState) => {\n    return getFields(getState, \"domains\")\n}\n\nconst getStoreTopics = (getState) => {\n    return getFields(getState, \"topics\")\n}\n\nconst getDomainsAction = (data) => ({\n    type: constants.GET_DOMAINS,\n    data\n})\nconst getTopicAction = (data) => ({\n    type: constants.GET_TOPICS,\n    data\n})\nconst setSelectTopic = (data) => ({\n    type: constants.SET_SELECTED_TOPIC,\n    data\n})\nconst commitArticleAction = (data) => ({\n    type: constants.COMMIT_ARTICLE,\n    data: data\n})\nexport const setSelectedTopic = (selectedTopic) => {\n    return (dispatch, getState) => {\n        dispatch(setSelectTopic(selectedTopic))\n        return\n    }\n}\nexport const commitArticle = (articleInfo) => {\n    return (dispatch, getState) => {\n        console.log(articleInfo)\n        client\n            .post(\"/addArticle\", {\n                title: articleInfo.title,\n                domainID: articleInfo.domainID,\n                topicID: articleInfo.topicID,\n                content: articleInfo.content,\n                authorID: articleInfo.authorID,\n                authorName: articleInfo.authorName,\n                publishDate: articleInfo.publishDate\n            })\n            .then(res => {\n                let resData = handleResponse(res)\n                alert(\"添加文章成功！\")\n                window.location.reload()\n                return\n            })\n            .catch(err => {\n                handleErr(err)\n            })\n        dispatch(commitArticleAction(articleInfo))\n    }\n}\nexport const getDomains = () => {\n    return (dispatch, getState) => {\n        const domains = getStoreDomains(getState)\n        if (domains !== undefined) {\n            return\n        }\n\n        httpClient\n            .get(\"/domains\")\n            .then(res => {\n                let domains = handleResponse(res)\n                let data = {}\n                if (domains.length == 0) {\n                    data.domains = [{ id: null, domain: \"无\" }]\n                    data.topics = [{ id: null, domain: \"无\" }]\n                    dispatch(getDomainsAction(data))\n                    return\n                }\n                data.domains = domains\n                httpClient\n                    .get(\"/topics?domain=\" + domains[0].id)\n                    .then(res => {\n                        let topics = handleResponse(res)\n                        if (topics.length == 0) {\n                            data.topics = [{ id: null, domain: \"无\" }]\n                            dispatch(getDomainsAction(data))\n                            return\n                        }\n                        data.topics = topics\n                        dispatch(getDomainsAction(data))\n                        return\n                    })\n                    .catch(err => {\n                        handleErr(err)\n                    })\n            })\n            .catch(err => {\n                handleErr(err)\n                console.log(err)\n            })\n    }\n}\nexport const getTopics = (domainID) => {\n    return (dispatch, getState) => {\n        let data = {}\n        httpClient\n            .get(\"/topics?domain=\" + domainID)\n            .then(res => {\n                let topics = handleResponse(res)\n                if (topics.length == 0) {\n                    data.topics = [{ id: null, domain: \"无\" }]\n                    dispatch(getTopicAction(data))\n                    return\n                }\n                data.topics = topics\n                data.domain = domainID\n                dispatch(getTopicAction(data))\n                return\n            })\n            .catch(err => {\n                handleErr(err)\n            })\n    }\n}\n\nexport const changeDomain = (idx) => {\n    return (dispatch, getState) => {\n        const domains = getStoreDomains(getState)\n        const domain = domains[idx]\n        httpClient\n            .get(\"/topics?domain=\", domain.id)\n            .then(res => {\n                let resData = handleResponse(res)\n                console.log(resData)\n            })\n            .catch(err => {\n                handleErr(err)\n                console.log(err)\n            })\n    }\n}\n\nconst changeTopicAction = (data) => ({\n    type: constants.CHANGE_TOPIC,\n    data\n})\n\nexport const changeTopic = (idx) => {\n    return (dispatch, getState) => {\n        const topics = getStoreTopics(getState)\n        let data = {}\n        data.topic = topics[idx]\n        dispatch(changeTopicAction(data))\n    }\n}\n\nconst updateDraftAction = (data) => ({\n    type: constants.UPDATE_DRAFT,\n    data\n})\n\nexport const updateDraft = (draft) => {\n    return (dispatch) => {\n        let data = {}\n        data.draft = draft\n        dispatch(updateDraftAction(data))\n    }\n}\n\n\n\n","import axios from \"axios\"\nimport qs from \"qs\"\n\nconst baseUrl = \"http://47.103.217.165:8787/\"\n\nexport const client = axios.create({\n    baseURL: baseUrl,\n    headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n    transformRequest: [(data, headers) => {\n        return qs.stringify(data)\n    }]\n})\n\nexport function handleResponse(res) {\n    if (res.data.code != 0 || res.data.msg != null) {\n        console.log(res)\n        throw res.data\n    }\n    return res.data.data\n}\n\nexport function handleErr(err) {\n    console.log(err)\n    if (err.code !== undefined) {\n        return err.code + \":\" + err.msg\n    }\n    return err\n}\n\nexport default client\n","let totCol=12;\nlet singleColWidth = 100/totCol;\nlet cols=[];\nfor(let i=0;i<totCol;i++) {\n    cols.push((i*singleColWidth).toString()+\"%\")\n}\n\n\nexport {cols as Cols}\nexport const ContentHorizontalPadding = \"15%\"\nexport const ContentLength = \"70%\"\nexport const TopNavBarHeight = 120\n\nexport const DesktopMiniWidth = 1100\nexport const TabletMiniWidth  = 600\n","import { combineReducers } from \"redux-immutable\";\nimport { reducer as headerReducer } from \"../common/header/store\";\nimport { reducer as homeReducer } from \"../pages/home/store\";\nimport { reducer as detailReducer } from \"../pages/detail/store\";\nimport { reducer as loginReducer } from \"../pages/login/store\";\nimport { reducer as writeReducer } from \"../pages/write/store\"\n\nconst reducer = combineReducers({\n  header: headerReducer,\n  home: homeReducer,\n  detail: detailReducer,\n  login: loginReducer,\n  write: writeReducer\n});\n\nexport default reducer;\n\nexport let testFn = function  (parm) {\n  if(typeof parm === 'boolean'){\n  }\n}\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport reducer from \"./reducer\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)));\n\nexport default store;\n","export const SEARCH_FOCUS = \"header/SEARCH_FOCUS\";\nexport const SEARCH_BLUR = \"header/SEARCH_BLUR\";\nexport const CHANGE_LIST = \"header/CHANGE_LIST\";\nexport const MOUSE_ENTER = \"header/MOUSE_ENTER\";\nexport const MOUSE_LEAVE = \"header/MOUSE_LEAVE\";\nexport const CHANGE_PAGE = \"header/CHANGE_PAGE\";\nexport const CHANGE_TOPICS = \"header/CHANGE_TOPIC\";\nexport const CHANGE_TOOL_BAR = \"header/CHANGE_TOOL_BAR\";\nexport const CONTANT_CHANGE=\"header/CONTANT_CHANGE\"\n\nexport const TOPIC_TOOL_BAR=\"TOPICS\"\nexport const ARTICLE_TOOL_BAR=\"ARTICLES\"\nexport const WRITE_TOOL_BAR=\"WRITE\"\nexport const NO_TOOL_BAR=\"NO\"\n"],"sourceRoot":""}